(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[2890],{2890:(de,me,fe)=>{fe(9993),Opal.modules["bcdice/format"]=function(n){var ue,Q,M,U,se,G,ie=[],o=n.nil,i=n.module,e=n.eqeqeq,q=n.def,P=n.truthy,V=n.eqeq,c=n.rb_gt;return ue=ie,Q=G=[i(ie[0],"BCDice")].concat(ue),U=[M=i(G[0],"Format")].concat(Q),se=n.$r(U),M.$module_function(),q(M,"$comparison_operator",function(L){var _;return e("==",_=L)?"=":e("!=",_)?"<>":e(se("Symbol"),_)?L.$to_s():o},1),q(M,"$modifier",function(L){return P(L["$nil?"]())?o:V(L,0)?"":P(c(L,0))?"+"+L:L.$to_s()},1)},Opal.modules["racc/parser"]=function(n){var x,y,h,o=[],i=n.$r(o),e=n.nil,q=n.$$$,P=n.module,V=n.klass,c=n.truthy,re=n.const_set,ue=n.defs,T=n.gvars,G=n.rb_lt,j=n.send,Q=n.to_a,M=n.rb_minus,U=n.def,se=n.to_ary,Z=n.neqeq,L=n.rb_plus,_=n.eqeq,f=n.rb_ge,d=n.rb_gt,ee=n.eqeqeq,K=n.rb_le,N=n.rb_times;return x=o,y=[P(o[0],"Racc")].concat(x),h=n.$r(y),V(y[0],h("StandardError"),"ParseError"),c(q("::","ParseError","skip_raise")?"constant":e)||re(o[0],"ParseError",q(i("Racc"),"ParseError")),function(ae,x){var m,p,F,J,$e,h=[P(ae,"Racc")].concat(x),R=n.$r(h);return c(R("Racc_No_Extensions","skip_raise")?"constant":e)||re(h[0],"Racc_No_Extensions",!1),m=h,F=[p=V(h[0],null,"Parser")].concat(m),J=n.$r(F),($e=p.$$prototype).yydebug=$e.racc_debug_out=$e.racc_error_status=$e.racc_t=$e.racc_vstack=$e.racc_val=$e.racc_state=$e.racc_tstack=e,re(F[0],"Racc_Runtime_Version","1.4.6"),re(F[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),re(F[0],"Racc_Runtime_Core_Version_R","1.4.6"),re(F[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),re(F[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),re(F[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),re(F[0],"Racc_Runtime_Core_Version",J("Racc_Runtime_Core_Version_R")),re(F[0],"Racc_Runtime_Core_Revision",J("Racc_Runtime_Core_Revision_R")),re(F[0],"Racc_Runtime_Type","ruby"),ue(J("Parser"),"$racc_runtime_type",function(){return J("Racc_Runtime_Type")},0),U(p,"$_racc_setup",function(){var k,W,t=this,g=e,r=e,b=e;return null==T.stderr&&(T.stderr=e),c(q(t.$class(),"Racc_debug_parser"))||(t.yydebug=!1),c(null!=(k=t.yydebug)&&k!==e?"instance-variable":e)||(t.yydebug=!1),c(t.yydebug)&&(c(null!=(W=t.racc_debug_out)&&W!==e?"instance-variable":e)||(t.racc_debug_out=T.stderr),t.racc_debug_out=c(g=t.racc_debug_out)?g:T.stderr),r=q(t.$class(),"Racc_arg"),c(G(r.$size(),14))&&(j(r,"[]=",Q(b=[13,!0])),M(b.length,1)),r},0),U(p,"$_racc_init_sysvars",function(){var k=this;return k.racc_state=[0],k.racc_tstack=[],k.racc_vstack=[],k.racc_t=e,k.racc_val=e,k.racc_read_next=!0,k.racc_user_yyerror=!1,k.racc_error_status=0},0),U(p,"$do_parse",function(){return this.$__send__(J("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)},0),U(p,"$next_token",function(){return this.$raise(J("NotImplementedError"),this.$class()+"#next_token is not defined")},0),U(p,"$_racc_do_parse_rb",function(k,W){var t,r=this,b=e,l=e,z=e,Y=e,v=e,a=e,E=e,$=e;return t=se(k),b=null==t[0]?e:t[0],l=null==t[1]?e:t[1],z=null==t[2]?e:t[2],Y=null==t[3]?e:t[3],v=null==t[10]?e:t[10],r.$_racc_init_sysvars(),a=E=$=e,j(r,"catch",["racc_end_parse"],function s(){var B,S,w=null==s.$$s?this:s.$$s,te=e;for(null==w.racc_state&&(w.racc_state=e),null==w.racc_read_next&&(w.racc_read_next=e),null==w.racc_t&&(w.racc_t=e),null==w.yydebug&&(w.yydebug=e),null==w.racc_val&&(w.racc_val=e);c(!0);)for(c($=Y["$[]"](w.racc_state["$[]"](-1)))?(c(w.racc_read_next)&&Z(w.racc_t,0)&&(S=w.$next_token(),B=se(S),a=null==B[0]?e:B[0],w.racc_val=null==B[1]?e:B[1],w.racc_t=c(a)?c(te=v["$[]"](a))?te:1:0,c(w.yydebug)&&w.$racc_read_token(w.racc_t,a,w.racc_val),w.racc_read_next=!1),$=L($,w.racc_t),c(f($,0))&&c(E=b["$[]"]($))&&_(l["$[]"]($),w.racc_state["$[]"](-1))||(E=z["$[]"](w.racc_state["$[]"](-1)))):E=z["$[]"](w.racc_state["$[]"](-1));c(E=w.$_racc_evalact(E,k)););},{$$arity:0,$$s:r})},2),U(p,"$yyparse",function(k,W){return this.$__send__(J("Racc_YY_Parse_Method"),k,W,this.$_racc_setup(),!0)},2),U(p,"$_racc_yyparse_rb",function(k,W,t,g){var r,l=this,z=e,Y=e,I=e,v=e,E=e,$=e,s=e;return r=se(t),z=null==r[0]?e:r[0],Y=null==r[1]?e:r[1],I=null==r[2]?e:r[2],v=null==r[3]?e:r[3],E=null==r[10]?e:r[10],l.$_racc_init_sysvars(),$=e,s=e,j(l,"catch",["racc_end_parse"],function D(){var w=null==D.$$s?this:D.$$s;for(null==w.racc_state&&(w.racc_state=e);!c(s=v["$[]"](w.racc_state["$[]"](-1)));)for(;c($=w.$_racc_evalact(I["$[]"](w.racc_state["$[]"](-1)),t)););return j(k,"__send__",[W],function te(O,ce){var ne=null==te.$$s?this:te.$$s,H=e,le=e;for(null==ne.racc_t&&(ne.racc_t=e),null==ne.racc_state&&(ne.racc_state=e),null==ne.racc_read_next&&(ne.racc_read_next=e),null==O&&(O=e),null==ce&&(ce=e),ne.racc_t=c(O)?c(H=E["$[]"](O))?H:1:0,ne.racc_val=ce,ne.racc_read_next=!1,s=L(s,ne.racc_t),c(f(s,0))&&c($=z["$[]"](s))&&_(Y["$[]"](s),ne.racc_state["$[]"](-1))||($=I["$[]"](ne.racc_state["$[]"](-1)));c($=ne.$_racc_evalact($,t)););for(;c(c(H=c(le=(s=v["$[]"](ne.racc_state["$[]"](-1)))["$!"]())?le:ne.racc_read_next["$!"]())?H:ne.racc_t["$=="](0));)for(c(s)&&c(s=L(s,ne.racc_t))&&c(f(s,0))&&c($=z["$[]"](s))&&_(Y["$[]"](s),ne.racc_state["$[]"](-1))||($=I["$[]"](ne.racc_state["$[]"](-1)));c($=ne.$_racc_evalact($,t)););},{$$arity:2,$$s:w})},{$$arity:0,$$s:l})},4),U(p,"$_racc_evalact",function(k,W){var t,I,r=this,b=e,l=e,Y=e,v=e,a=e,E=e,$=e;if(b=null==(t=se(W))[0]?e:t[0],l=null==t[1]?e:t[1],Y=null==t[3]?e:t[3],I=null==t[11]?e:t[11],v=null==t[12]?e:t[12],c(d(k,0))&&c(G(k,I)))c(d(r.racc_error_status,0))&&(_(r.racc_t,1)||(r.racc_error_status=M(r.racc_error_status,1))),r.racc_vstack.$push(r.racc_val),r.racc_state.$push(k),r.racc_read_next=!0,c(r.yydebug)&&(r.racc_tstack.$push(r.racc_t),r.$racc_shift(r.racc_t,r.racc_tstack,r.racc_vstack));else if(c(G(k,0))&&c(d(k,v["$-@"]()))){if(a=j(r,"catch",["racc_jump"],function s(){var D=null==s.$$s?this:s.$$s;return null==D.racc_state&&(D.racc_state=e),D.racc_state.$push(D.$_racc_do_reduce(W,k)),!1},{$$arity:0,$$s:r}),c(a)){if(ee(1,E=a))return r.racc_user_yyerror=!0,v["$-@"]();if(ee(2,E))return I;r.$raise("[Racc Bug] unknown jump code")}}else if(_(k,I))c(r.yydebug)&&r.$racc_accept(),r.$throw("racc_end_parse",r.racc_vstack["$[]"](0));else{if(_(k,v["$-@"]())){for(ee(0,E=r.racc_error_status)?c(W["$[]"](21))||r.$on_error(r.racc_t,r.racc_val,r.racc_vstack):ee(3,E)&&(_(r.racc_t,0)&&r.$throw("racc_end_parse",e),r.racc_read_next=!0),r.racc_user_yyerror=!1,r.racc_error_status=3;c(!0)&&!(c($=Y["$[]"](r.racc_state["$[]"](-1)))&&($=L($,1),c(f($,0))&&c(k=b["$[]"]($))&&_(l["$[]"]($),r.racc_state["$[]"](-1))));)c(K(r.racc_state.$size(),1))&&r.$throw("racc_end_parse",e),r.racc_state.$pop(),r.racc_vstack.$pop(),c(r.yydebug)&&(r.racc_tstack.$pop(),r.$racc_e_pop(r.racc_state,r.racc_tstack,r.racc_vstack));return k}r.$raise("[Racc Bug] unknown action "+k.$inspect())}return c(r.yydebug)&&r.$racc_next_state(r.racc_state["$[]"](-1),r.racc_state),e},2),U(p,"$_racc_do_reduce",function(k,W){var t,v,E,w,te,O,ne,r=this,l=e,z=e,Y=e,I=e,a=e,$=e,s=e,D=e,B=e,S=e,ce=e,oe=e,_e=e,H=e;return l=null==(t=se(k))[4]?e:t[4],z=null==t[5]?e:t[5],Y=null==t[6]?e:t[6],I=null==t[7]?e:t[7],v=null==t[8]?e:t[8],a=null==t[9]?e:t[9],E=null==t[13]?e:t[13],$=r.racc_state,s=r.racc_vstack,D=r.racc_tstack,B=N(W,-3),S=a["$[]"](B),w=a["$[]"](L(B,1)),te=a["$[]"](L(B,2)),O=[],c(r.yydebug)&&(ce=D["$[]"](S["$-@"](),S)),oe=s["$[]"](S["$-@"](),S),c(r.yydebug)&&(_e=[S["$-@"](),S,O],j(D,"[]=",Q(_e)),M(_e.length,1)),_e=[S["$-@"](),S,O],j(s,"[]=",Q(_e)),M(_e.length,1),_e=[S["$-@"](),S,O],j($,"[]=",Q(_e)),M(_e.length,1),c(E)?s.$push(r.$__send__(te,oe,s,oe["$[]"](0))):s.$push(r.$__send__(te,oe,s)),D.$push(w),c(r.yydebug)&&r.$racc_reduce(ce,w,D,s),ne=M(w,v),c(B=I["$[]"](ne))&&(B=L(B,$["$[]"](-1)),c(f(B,0))&&c(H=l["$[]"](B))&&_(z["$[]"](B),ne))?H:Y["$[]"](ne)},2),U(p,"$on_error",function(k,W,t){var r,g=this;return g.$raise(J("ParseError"),g.$sprintf("\nparse error on value %s (%s)",W.$inspect(),c(r=g.$token_to_str(k))?r:"?"))},3),U(p,"$yyerror",function(){return this.$throw("racc_jump",1)},0),U(p,"$yyaccept",function(){return this.$throw("racc_jump",2)},0),U(p,"$yyerrok",function(){return this.racc_error_status=0},0),U(p,"$racc_read_token",function(k,W,t){var g=this;return g.racc_debug_out.$print("read    "),g.racc_debug_out.$print(W.$inspect(),"(",g.$racc_token2str(k),") "),g.racc_debug_out.$puts(t.$inspect()),g.racc_debug_out.$puts()},3),U(p,"$racc_shift",function(k,W,t){var g=this;return g.racc_debug_out.$puts("shift   "+g.$racc_token2str(k)),g.$racc_print_stacks(W,t),g.racc_debug_out.$puts()},3),U(p,"$racc_reduce",function(k,W,t,g){var r=this,b=e;return(b=r.racc_debug_out).$print("reduce "),c(k["$empty?"]())?b.$print(" <none>"):j(k,"each",[],function l(z){return null==z&&(z=e),b.$print(" ",(null==l.$$s?this:l.$$s).$racc_token2str(z))},{$$arity:1,$$s:r}),b.$puts(" --\x3e "+r.$racc_token2str(W)),r.$racc_print_stacks(t,g),r.racc_debug_out.$puts()},4),U(p,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()},0),U(p,"$racc_e_pop",function(k,W,t){var g=this;return g.racc_debug_out.$puts("error recovering mode: pop token"),g.$racc_print_states(k),g.$racc_print_stacks(W,t),g.racc_debug_out.$puts()},3),U(p,"$racc_next_state",function(k,W){var t=this;return t.racc_debug_out.$puts("goto    "+k),t.$racc_print_states(W),t.racc_debug_out.$puts()},2),U(p,"$racc_print_stacks",function(k,W){var g=e;return(g=this.racc_debug_out).$print("        ["),j(k,"each_index",[],function r(b){return null==b&&(b=e),g.$print(" (",(null==r.$$s?this:r.$$s).$racc_token2str(k["$[]"](b))," ",W["$[]"](b).$inspect(),")")},{$$arity:1,$$s:this}),g.$puts(" ]")},2),U(p,"$racc_print_states",function(k){var t=e;return(t=this.racc_debug_out).$print("        ["),j(k,"each",[],function(r){return null==r&&(r=e),t.$print(" ",r)},1),t.$puts(" ]")},1),U(p,"$racc_token2str",function(k){var t;return c(t=q(this.$class(),"Racc_token_to_s_table")["$[]"](k))?t:this.$raise("[Racc Bug] can't convert token "+k+" to string")},1),U(p,"$token_to_str",function(k){return q(this.$class(),"Racc_token_to_s_table")["$[]"](k)},1)}(o[0],o)},Opal.modules["bcdice/arithmetic/node"]=function(n){var M,L,ee,y,h,N,ae,f,se,ie=[],o=n.nil,i=n.$$$,e=n.module,q=n.klass,P=n.def,V=n.send2,c=n.find_super,re=n.eqeq,ue=n.const_set,T=n.eqeqeq,G=n.rb_divide,j=n.alias;return M=ie,L=se=[e(ie[0],"BCDice")].concat(M),ee=f=[e(se[0],"Arithmetic")].concat(L),N=[e(f[0],"Node")].concat(ee),ae=n.$r(N),(h=(y=q(N[0],null,"BinaryOp")).$$prototype).lhs=h.rhs=h.op=o,P(y,"$initialize",function(u,A,m){var p=this;return p.lhs=u,p.op=A,p.rhs=m},3),P(y,"$eval",function(u){var p,A=this,m=o;return m=A.lhs.$eval(u),p=A.rhs.$eval(u),m.$send(A.op,p)},1),P(y,"$output",function(){var u=this;return""+u.lhs.$output()+u.op+u.rhs.$output()},0),P(y,"$s_exp",function(){var u=this;return"("+u.$op_for_s_exp()+" "+u.lhs.$s_exp()+" "+u.rhs.$s_exp()+")"},0),P(y,"$op_for_s_exp",function(){return this.op},0),function(x,X,y){var h=q(x,X,"DivideBase"),R=[h].concat(y),u=n.$r(R),A=h.$$prototype;A.lhs=A.rhs=A.op=o,P(h,"$initialize",function m(p,F){return delete m.$$p,V(this,c(this,"initialize",m,!1,!0),"initialize",[p,"/",F],null)},2),P(h,"$eval",function(p){var J,$e,F=this;return J=F.lhs.$eval(p),$e=F.rhs.$eval(p),re($e,0)&&F.$raise(u("ZeroDivisionError")),F.$divide_and_round(J,$e,p)},1),P(h,"$output",function m(){var p=m.$$p||o,F=this;return delete m.$$p,""+V(F,c(F,"output",m,!1,!0),"output",[],p)+F.$rounding_method()},0),h.$private(),P(h,"$rounding_method",function(){return i(this.$class(),"ROUNDING_METHOD")},0),P(h,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()},0),P(h,"$divide_and_round",function(p,F,J){return this.$raise(u("NotImplementedError"))},3)}(N[0],ae("BinaryOp"),N),function(x,X,y){var h=q(x,X,"DivideWithGameSystemDefault"),R=[h].concat(y),u=n.$r(R);ue(R[0],"ROUNDING_METHOD",""),h.$private(),P(h,"$divide_and_round",function(m,p,F){var J;return T(i(u("RoundType"),"CEIL"),J=F)?G(m.$to_f(),p).$ceil():T(i(u("RoundType"),"ROUND"),J)?G(m.$to_f(),p).$round():G(m,p).$floor()},3)}(N[0],ae("DivideBase"),N),function(x,X,y){var h=q(x,X,"DivideWithCeil"),R=[h].concat(y);ue(R[0],"ROUNDING_METHOD","C"),h.$private(),P(h,"$divide_and_round",function(A,m,p){return G(A.$to_f(),m).$ceil()},3)}(N[0],ae("DivideBase"),N),function(x,X,y){var h=q(x,X,"DivideWithRound"),R=[h].concat(y);ue(R[0],"ROUNDING_METHOD","R"),h.$private(),P(h,"$divide_and_round",function(A,m,p){return G(A.$to_f(),m).$round()},3)}(N[0],ae("DivideBase"),N),function(x,X,y){var h=q(x,X,"DivideWithFloor"),R=[h].concat(y);ue(R[0],"ROUNDING_METHOD","F"),h.$private(),P(h,"$divide_and_round",function(A,m,p){return G(A,m).$to_i()},3)}(N[0],ae("DivideBase"),N),function(x,X){var y=q(x,null,"Negative");y.$$prototype.body=o,P(y,"$initialize",function(u){return this.body=u},1),P(y,"$eval",function(u){return this.body.$eval(u)["$-@"]()},1),P(y,"$output",function(){return"-"+this.body.$output()},0),P(y,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"},0)}(N[0]),function(x,X){var y=q(x,null,"Parenthesis");y.$$prototype.expr=o,P(y,"$initialize",function(u){return this.expr=u},1),P(y,"$eval",function(u){return this.expr.$eval(u)},1),P(y,"$output",function(){return"("+this.expr.$output()+")"},0),P(y,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"},0)}(N[0]),function(x,X){var y=q(x,null,"Number");return y.$$prototype.value=o,P(y,"$initialize",function(u){return this.value=u},1),P(y,"$eval",function(u){return this.value},1),P(y,"$output",function(){return this.value.$to_s()},0),j(y,"s_exp","output")}(N[0])},Opal.modules.strscan=function(n){var Q,M,U,se,Z,ie=[],o=n.nil,e=n.def,q=n.truthy,P=n.eqeqeq,V=n.Opal,c=n.send,re=n.to_a,ue=n.rb_minus,T=n.alias;return Q=ie,U=[M=(0,n.klass)(ie[0],null,"StringScanner")].concat(Q),se=n.$r(U),(Z=M.$$prototype).pos=Z.string=Z.working=Z.matched=Z.prev_pos=Z.match=o,M.$attr_reader("pos","matched"),e(M,"$initialize",function(_){var f=this;return f.string=_,f.pos=0,f.matched=o,f.working=_,f.match=[]},1),M.$attr_reader("string"),e(M,"$beginning_of_line?",function(){var _=this;return 0===_.pos||"\n"===_.string.charAt(_.pos-1)},0),e(M,"$scan",function(_){var f=this,d=(_=f.$anchor(_)).exec(f.working);return null==d?f.matched=o:"object"==typeof d?(f.prev_pos=f.pos,f.pos+=d[0].length,f.working=f.working.substring(d[0].length),f.matched=d[0],f.match=d,d[0]):"string"==typeof d?(f.pos+=d.length,f.working=f.working.substring(d.length),d):o},1),e(M,"$scan_until",function(_){var f=this;_=f.$anchor(_);for(var K,d=f.pos,ee=f.working;;){if(K=_.exec(ee),d+=1,ee=ee.substr(1),null!=K)return f.matched=f.string.substr(f.pos,d-f.pos-1+K[0].length),f.match=K,f.prev_pos=d-1,f.pos=d,f.working=ee.substr(K[0].length),f.matched;if(0===ee.length)return f.match=[],f.matched=o}},1),e(M,"$[]",function(_){var d;if(q(this.match["$empty?"]()))return o;P(se("Symbol"),d=_)?_=_.$to_s():P(se("String"),d)||(_=V["$coerce_to!"](_,se("Integer"),"to_int"));var ee=this.match;return _<0&&(_+=ee.length),_<0||_>=ee.length||null==ee[_]?o:ee[_]},1),e(M,"$check",function(_){var f=this,d=(_=f.$anchor(_)).exec(f.working);return f.matched=null==d?o:d[0]},1),e(M,"$check_until",function(_){var f=this,d=f.prev_pos,ee=f.pos,K=f.$scan_until(_);return K!==o&&(f.matched=K.substr(-1),f.working=f.string.substr(ee)),f.prev_pos=d,f.pos=ee,K},1),e(M,"$peek",function(_){return this.working.substring(0,_)},1),e(M,"$eos?",function(){return 0===this.working.length},0),e(M,"$exist?",function(_){var d=_.exec(this.working);return null==d?o:0==d.index?0:d.index+1},1),e(M,"$skip",function(_){var f=this,d=(_=f.$anchor(_)).exec(f.working);if(null==d)return f.match=[],f.matched=o;var ee=d[0],K=ee.length;return f.matched=ee,f.match=d,f.prev_pos=f.pos,f.pos+=K,f.working=f.working.substring(K),K},1),e(M,"$skip_until",function(_){var d=this.$scan_until(_);return d===o?o:(this.matched=d.substr(-1),d.length)},1),e(M,"$get_byte",function(){var _=this,f=o;return _.pos<_.string.length?(_.prev_pos=_.pos,_.pos+=1,f=_.matched=_.working.substring(0,1),_.working=_.working.substring(1)):_.matched=o,f},0),e(M,"$match?",function(_){var f=this,d=(_=f.$anchor(_)).exec(f.working);return null==d?o:(f.prev_pos=f.pos,d[0].length)},1),e(M,"$pos=",function(_){var f=this;return _<0&&(_+=f.string.$length()),f.pos=_,f.working=f.string.slice(_)},1),e(M,"$matched_size",function(){return this.matched===o?o:this.matched.length},0),e(M,"$post_match",function(){var _=this;return _.matched===o?o:_.string.substr(_.pos)},0),e(M,"$pre_match",function(){var _=this;return _.matched===o?o:_.string.substr(0,_.prev_pos)},0),e(M,"$reset",function(){var _=this;return _.working=_.string,_.matched=o,_.pos=0},0),e(M,"$rest",function(){return this.working},0),e(M,"$rest?",function(){return 0!==this.working.length},0),e(M,"$rest_size",function(){return this.$rest().$size()},0),e(M,"$terminate",function(){var f,_=this;return _.match=o,f=[_.string.$length()],c(_,"pos=",re(f)),f[ue(f.length,1)]},0),e(M,"$unscan",function(){var _=this;return _.pos=_.prev_pos,_.prev_pos=o,_.match=o,_},0),T(M,"bol?","beginning_of_line?"),T(M,"getch","get_byte"),M.$private(),e(M,"$anchor",function(_){var f=_.toString().match(/\/([^\/]+)$/);return f=f?f[1]:void 0,new RegExp("^(?:"+_.source+")",f)},1)},Opal.modules["bcdice/normalize"]=function(n){var c,G,ue,ie=[],o=n.nil,i=n.module,e=n.eqeqeq,q=n.def,P=n.eqeq;return c=ie,ue=[i(ie[0],"BCDice")].concat(c),(G=i(ue[0],"Normalize")).$module_function(),q(G,"$comparison_operator",function(Q){var M;return e(/<=|=</,M=Q)?"<=":e(/>=|=>/,M)?">=":e(/<>|!=|=!/,M)?"!=":e(/</,M)?"<":e(/>/,M)?">":e(/=/,M)?"==":o},1),q(G,"$target_number",function(Q){return P(Q,"?")?Q:Q.$to_i()},1)},Opal.modules["bcdice/command/lexer"]=function(n){var G,U,f,d,ee,K,N,Z,Q,ie=n.top,o=[],i=n.nil,e=n.module,q=n.klass,P=n.const_set,V=n.hash2,c=n.truthy,re=n.send,ue=n.def;return ie.$require("strscan"),ie.$require("bcdice/normalize"),G=o,U=Q=[e(o[0],"BCDice")].concat(G),f=Z=[e(Q[0],"Command")].concat(U),ee=[d=q(Z[0],null,"Lexer")].concat(f),K=n.$r(ee),(N=d.$$prototype).scanner=N.notations=i,P(ee[0],"SYMBOLS",V(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),ue(d,"$initialize",function(x,X){var y,h,u;return x=c(u=(h=(y=x)===i||null==y?i:re(y,"split",[" ",2]))===i||null==h?i:re(h,"first",[]))?u:"",this.scanner=K("StringScanner").$new(x),this.notations=re(X,"map",[],function(m){return null==m&&(m=i),c(m["$is_a?"](K("String")))?K("Regexp").$new(m):m},1)},2),ue(d,"$next_token",function(){try{var x=this,X=i,y=i,R=i,u=i;return c(x.scanner["$eos?"]())?[!1,"$"]:(re(x.notations,"each",[],function A(m){var F,p=null==A.$$s?this:A.$$s;if(null==p.scanner&&(p.scanner=i),null==m&&(m=i),F=p.scanner.$scan(m),!c(F))return i;n.ret(["NOTATION",F])},{$$arity:1,$$s:x}),c(X=x.scanner.$scan(/\d+/))?["NUMBER",X.$to_i()]:c(y=x.scanner.$scan(/[<>!=]+/))?(y=K("Normalize").$comparison_operator(y),[c(y)?"CMP_OP":"ILLEGAL",y]):(R=x.scanner.$getch().$upcase(),[c(u=K("SYMBOLS")["$[]"](R))?u:R.$to_sym(),R]))}catch(A){if(A===n.returner)return A.$v;throw A}},0),ue(d,"$source",function(){return this.scanner.$string()},0)},Opal.modules["bcdice/command/parsed"]=function(n){var re,j,Z,L,_,f,d,M,T,ie=[],o=n.nil,i=n.module,e=n.klass,q=n.def,P=n.truthy,V=n.eqeqeq;return re=ie,j=T=[i(ie[0],"BCDice")].concat(re),Z=M=[i(T[0],"Command")].concat(j),_=[L=e(M[0],null,"Parsed")].concat(Z),f=n.$r(_),(d=L.$$prototype).question_target=d.critical=d.fumble=d.dollar=d.modify_number=d.target_number=d.prefix_number=d.command=d.suffix_number=d.cmp_op=o,L.$attr_accessor("command"),L.$attr_accessor("prefix_number"),L.$attr_accessor("suffix_number"),L.$attr_accessor("critical"),L.$attr_accessor("fumble"),L.$attr_accessor("dollar"),L.$attr_accessor("modify_number"),L.$attr_accessor("cmp_op"),L.$attr_accessor("target_number"),L.$attr_writer("question_target"),q(L,"$initialize",function(){var K=this;return K.prefix_number=o,K.suffix_number=o,K.critical=o,K.fumble=o,K.dollar=o,K.cmp_op=o,K.target_number=o,K.question_target=!1},0),q(L,"$question_target?",function(){return this.question_target},0),q(L,"$to_s",function(K){var R,N=this,ae=o,x=o,X=o,y=o,h=o;return null==K&&(K="after_command"),ae=P(N.critical)?"@"+N.critical:o,x=P(N.fumble)?"#"+N.fumble:o,X=P(N.dollar)?"$"+N.dollar:o,y=f("Format").$modifier(N.modify_number),h=P(N.question_target)?"?":N.target_number,V("after_command",R=K)?[N.prefix_number,N.command,N.suffix_number,ae,x,X,y,N.cmp_op,h].$join():V("after_modify_number",R)?[N.prefix_number,N.command,N.suffix_number,y,ae,x,X,N.cmp_op,h].$join():V("after_target_number",R)?[N.prefix_number,N.command,N.suffix_number,y,N.cmp_op,h,ae,x,X].$join():o},-1)},Opal.modules["bcdice/command/parser"]=function(n){var f,N,R,p,F,J,$e,C,k,W,t,g,l,u,A,m,I,x,X,ee,ie=n.top,o=[],i=n.$r(o),e=n.nil,q=n.$$$,P=n.klass,V=n.module,c=n.hash2,re=n.send2,ue=n.find_super,T=n.def,G=n.send,j=n.to_a,Q=n.rb_minus,M=n.eqeq,U=n.hash,se=n.const_set,Z=n.truthy,L=n.to_ary;return ie.$require("racc/parser.rb"),ie.$require("bcdice/arithmetic/node"),ie.$require("bcdice/command/lexer"),ie.$require("bcdice/command/parsed"),P(q(i("BCDice"),"Command"),q(i("Racc"),"Parser"),"Parser"),f=o,N=ee=[V(o[0],"BCDice")].concat(f),x=[V(ee[0],"Command")].concat(N),X=n.$r(x),R=x,A=[u=P(x[0],q(X("Racc"),"Parser"),"Parser")].concat(R),m=n.$r(A),(I=u.$$prototype).notations=I.lexer=I.modifier=I.suffix_number=I.prefix_number=I.need_suffix_number=I.need_prefix_number=I.critical=I.fumble=I.dollar=I.allowed_cmp_op=I.question_target=e,T(u,"$initialize",function v(a,E){var $,s,D,B,w=this;if(delete v.$$p,$=n.slice.call(arguments),null==(s=n.extract_kwargs($)))s=c([],{});else if(!s.$$is_hash)throw n.ArgumentError.$new("expected kwargs");if(D=$,!n.hasOwnProperty.call(s.$$smap,"round_type"))throw n.ArgumentError.$new("missing keyword: round_type");return B=s.$$smap.round_type,re(w,ue(w,"initialize",v,!1,!0),"initialize",[],null),w.notations=D,w.round_type=B,w.prefix_number=!1,w.suffix_number=!1,w.need_prefix_number=!1,w.need_suffix_number=!1,w.modifier=!0,w.critical=!1,w.fumble=!1,w.dollar=!1,w.allowed_cmp_op=[e,">=",">","<=","<","==","!="],w.question_target=!1},-2),T(u,"$disable_modifier",function(){return this.modifier=!1,this},0),T(u,"$enable_prefix_number",function(){return this.prefix_number=!0,this},0),T(u,"$enable_suffix_number",function(){return this.suffix_number=!0,this},0),T(u,"$has_prefix_number",function(){var a=this;return a.prefix_number=!0,a.need_prefix_number=!0,a},0),T(u,"$has_suffix_number",function(){var a=this;return a.suffix_number=!0,a.need_suffix_number=!0,a},0),T(u,"$enable_critical",function(){return this.critical=!0,this},0),T(u,"$enable_fumble",function(){return this.fumble=!0,this},0),T(u,"$enable_dollar",function(){return this.dollar=!0,this},0),T(u,"$restrict_cmp_op_to",function(a){var E,s=this;return E=n.slice.call(arguments),s.allowed_cmp_op=E,s},-1),T(u,"$enable_question_target",function(){return this.question_target=!0,this},0),T(u,"$parse",function(a){var E=this;try{return E.lexer=m("Lexer").$new(a,E.notations),E.$do_parse()}catch($){if(!n.rescue($,[m("ParseError"),m("ZeroDivisionError")]))throw $;try{return e}finally{n.pop_exception()}}},1),u.$private(),T(u,"$parsed",function(a,E,$,s){return G(m("Parsed").$new(),"tap",[],function B(S){var w,te,O,ce,oe,_e,ne=null==B.$$s?this:B.$$s,H=e;return null==ne.round_type&&(ne.round_type=e),null==S&&(S=e),H=[a["$[]"]("command")],G(S,"command=",j(H)),Q(H.length,1),H=[(w=a["$[]"]("prefix"),w===e||null==w?e:G(w,"eval",[ne.round_type]))],G(S,"prefix_number=",j(H)),Q(H.length,1),H=[(te=a["$[]"]("suffix"),te===e||null==te?e:G(te,"eval",[ne.round_type]))],G(S,"suffix_number=",j(H)),Q(H.length,1),H=[(O=E["$[]"]("critical"),O===e||null==O?e:G(O,"eval",[ne.round_type]))],G(S,"critical=",j(H)),Q(H.length,1),H=[(ce=E["$[]"]("fumble"),ce===e||null==ce?e:G(ce,"eval",[ne.round_type]))],G(S,"fumble=",j(H)),Q(H.length,1),H=[(oe=E["$[]"]("dollar"),oe===e||null==oe?e:G(oe,"eval",[ne.round_type]))],G(S,"dollar=",j(H)),Q(H.length,1),H=[$.$eval(ne.round_type)],G(S,"modify_number=",j(H)),Q(H.length,1),H=[s["$[]"]("cmp_op")],G(S,"cmp_op=",j(H)),Q(H.length,1),M(s["$[]"]("target"),"?")?(G(S,"question_target=",j(H=[!0])),Q(H.length,1),G(S,"target_number=",j(H=[0])),H[Q(H.length,1)]):(G(S,"question_target=",j(H=[!1])),Q(H.length,1),H=[(_e=s["$[]"]("target"),_e===e||null==_e?e:G(_e,"eval",[ne.round_type]))],G(S,"target_number=",j(H)),H[Q(H.length,1)])},{$$arity:1,$$s:this})},4),T(u,"$next_token",function(){return this.lexer.$next_token()},0),p=[6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,33,34,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,e,e,17,18,6,e,5,e,e,17,18,e,e,5,23,24,25,26,56,54,55,57],F=[0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,e,17,15,15,18,18,23,e,18,30,30,23,23,24,e,23,31,31,24,24,25,e,24,44,44,25,25,28,e,25,47,47,28,28,29,e,28,48,48,29,29,33,e,29,49,49,33,33,34,e,33,50,50,34,34,36,e,34,e,e,36,36,37,e,36,e,e,37,37,e,e,37,27,27,27,27,52,52,52,52],J=[-2,4,16,-3,-1,11,e,33,13,35,23,30,1,e,28,40,e,37,44,e,e,-2,e,51,58,65,0,106,72,79,47,54,e,86,93,e,100,107,e,e,e,e,e,e,63,e,e,68,75,82,89,e,120,e,e,e,e,e],$e=[-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29],C=[30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,e,e,21,47,48,40,51,52,49,50,44,46,3,e,e,e,13,e,e,e,e,e,e,e,32],k=[8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,e,e,4,8,8,5,7,7,8,8,9,5,6,e,e,e,6,e,e,e,e,e,e,e,6],W=[e,6,13,3,9,-1,27,-15,-10,-1,-38],t=[e,e,e,e,e,e,19,16,15,e,e],g=[0,0,"racc_error",4,20,"_reduce_1",4,20,"_reduce_2",3,20,"_reduce_3",3,21,"_reduce_4",2,21,"_reduce_5",2,21,"_reduce_6",1,21,"_reduce_7",0,22,"_reduce_8",3,22,"_reduce_9",3,22,"_reduce_10",3,22,"_reduce_11",2,23,"_reduce_12",2,23,"_reduce_13",3,23,"_reduce_14",3,23,"_reduce_15",0,24,"_reduce_16",2,24,"_reduce_17",2,24,"_reduce_18",3,28,"_reduce_19",3,28,"_reduce_20",1,28,"_reduce_none",3,27,"_reduce_22",4,27,"_reduce_23",1,27,"_reduce_none",0,29,"_reduce_25",1,29,"_reduce_26",1,29,"_reduce_27",1,29,"_reduce_28",1,29,"_reduce_29",2,26,"_reduce_30",2,26,"_reduce_31",1,26,"_reduce_none",3,25,"_reduce_33",1,25,"_reduce_34"],l=U(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),se(A[0],"Racc_arg",[p,F,$e,J,C,k,t,W,19,g,l,58,35,!0]),se(A[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),se(A[0],"Racc_debug_parser",!1),T(u,"$_reduce_1",function(a,E,$){var s,B=this;return Z(B.modifier)||B.$raise(m("ParseError")),s=L(a),B.$parsed(null==s[0]?e:s[0],null==s[1]?e:s[1],null==s[2]?e:s[2],null==s[3]?e:s[3])},3),T(u,"$_reduce_2",function(a,E,$){var s,B=this;return Z(B.modifier)||B.$raise(m("ParseError")),s=L(a),B.$parsed(null==s[0]?e:s[0],null==s[2]?e:s[2],null==s[1]?e:s[1],null==s[3]?e:s[3])},3),T(u,"$_reduce_3",function(a,E,$){var s,te;return te=null==(s=L(a))[2]?e:s[2],this.$parsed(null==s[0]?e:s[0],null==s[1]?e:s[1],q(q(m("Arithmetic"),"Node"),"Number").$new(0),te)},3),T(u,"$_reduce_4",function(a,E,$){var s=this;return Z(s.prefix_number)&&Z(s.suffix_number)||s.$raise(m("ParseError")),c(["command","prefix","suffix"],{command:a["$[]"](1),prefix:a["$[]"](0),suffix:a["$[]"](2)})},3),T(u,"$_reduce_5",function(a,E,$){var s=this;return Z(s.prefix_number)||s.$raise(m("ParseError")),Z(s.need_suffix_number)&&s.$raise(m("ParseError")),c(["command","prefix"],{command:a["$[]"](1),prefix:a["$[]"](0)})},3),T(u,"$_reduce_6",function(a,E,$){var s=this;return Z(s.suffix_number)||s.$raise(m("ParseError")),Z(s.need_prefix_number)&&s.$raise(m("ParseError")),c(["command","suffix"],{command:a["$[]"](0),suffix:a["$[]"](1)})},3),T(u,"$_reduce_7",function(a,E,$){var s=this;return(Z(s.need_prefix_number)||Z(s.need_suffix_number))&&s.$raise(m("ParseError")),c(["command"],{command:a["$[]"](0)})},3),T(u,"$_reduce_8",function(a,E,$){return c([],{})},3),T(u,"$_reduce_9",function(a,E,$){var s,te,O,S=e;return S=null==(s=L(a))[0]?e:s[0],te=null==s[2]?e:s[2],Z(this.critical)&&Z(S["$[]"]("critical")["$nil?"]())||this.$raise(m("ParseError")),G(S,"[]=",j(O=["critical",te])),Q(O.length,1),S},3),T(u,"$_reduce_10",function(a,E,$){var s,te,O,S=e;return S=null==(s=L(a))[0]?e:s[0],te=null==s[2]?e:s[2],Z(this.fumble)&&Z(S["$[]"]("fumble")["$nil?"]())||this.$raise(m("ParseError")),G(S,"[]=",j(O=["fumble",te])),Q(O.length,1),S},3),T(u,"$_reduce_11",function(a,E,$){var s,te,O,S=e;return S=null==(s=L(a))[0]?e:s[0],te=null==s[2]?e:s[2],Z(this.dollar)&&Z(S["$[]"]("dollar")["$nil?"]())||this.$raise(m("ParseError")),G(S,"[]=",j(O=["dollar",te])),Q(O.length,1),S},3),T(u,"$_reduce_12",function(a,E,$){return a["$[]"](1)},3),T(u,"$_reduce_13",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"Negative").$new(a["$[]"](1))},3),T(u,"$_reduce_14",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"BinaryOp").$new(a["$[]"](0),"+",a["$[]"](2))},3),T(u,"$_reduce_15",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"BinaryOp").$new(a["$[]"](0),"-",a["$[]"](2))},3),T(u,"$_reduce_16",function(a,E,$){return Z(this.allowed_cmp_op["$include?"](e))||this.$raise(m("ParseError")),c([],{})},3),T(u,"$_reduce_17",function(a,E,$){var s,S,w;return w=null==(s=L(a))[1]?e:s[1],Z(this.allowed_cmp_op["$include?"](S=null==s[0]?e:s[0]))||this.$raise(m("ParseError")),c(["cmp_op","target"],{cmp_op:S,target:w})},3),T(u,"$_reduce_18",function(a,E,$){var D,s=this;return D=a["$[]"](0),Z(s.question_target)||s.$raise(m("ParseError")),Z(s.allowed_cmp_op["$include?"](D))||s.$raise(m("ParseError")),c(["cmp_op","target"],{cmp_op:D,target:"?"})},3),T(u,"$_reduce_19",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"BinaryOp").$new(a["$[]"](0),"+",a["$[]"](2))},3),T(u,"$_reduce_20",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"BinaryOp").$new(a["$[]"](0),"-",a["$[]"](2))},3),T(u,"$_reduce_22",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"BinaryOp").$new(a["$[]"](0),"*",a["$[]"](2))},3),T(u,"$_reduce_23",function(a,E,$){return a["$[]"](3).$new(a["$[]"](0),a["$[]"](2))},3),T(u,"$_reduce_25",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"DivideWithGameSystemDefault")},3),T(u,"$_reduce_26",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"DivideWithCeil")},3),T(u,"$_reduce_27",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"DivideWithCeil")},3),T(u,"$_reduce_28",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"DivideWithRound")},3),T(u,"$_reduce_29",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"DivideWithFloor")},3),T(u,"$_reduce_30",function(a,E,$){return a["$[]"](1)},3),T(u,"$_reduce_31",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"Negative").$new(a["$[]"](1))},3),T(u,"$_reduce_33",function(a,E,$){return a["$[]"](1)},3),T(u,"$_reduce_34",function(a,E,$){return q(q(m("Arithmetic"),"Node"),"Number").$new(a["$[]"](0))},3),T(u,"$_reduce_none",function(a,E,$){return a["$[]"](0)},3)},Opal.modules["bcdice/dice_table/table"]=function(n){var T,M,_,f,d,ee,K,se,j,ie=[],o=n.nil,i=n.module,e=n.klass,q=n.hash2,P=n.defs,V=n.truthy,c=n.def,re=n.rb_minus;return T=ie,M=j=[i(ie[0],"BCDice")].concat(T),_=se=[i(j[0],"DiceTable")].concat(M),d=[f=e(se[0],null,"Table")].concat(_),ee=n.$r(d),(K=f.$$prototype).times=K.sides=K.name=K.items=o,P(f,"$from_i18n",function(ae,x){var y=o;return y=ee("I18n").$t(ae,q(["locale"],{locale:x})),this.$new(y["$[]"]("name"),y["$[]"]("type"),y["$[]"]("items"))},2),c(f,"$initialize",function(ae,x,X){var y=this,h=o;return y.name=ae,y.items=X.$freeze(),h=/(\d+)D(\d+)/i.$match(x),V(h)||y.$raise(ee("ArgumentError"),"Unexpected table type: "+x),y.times=h["$[]"](1).$to_i(),y.sides=h["$[]"](2).$to_i()},3),c(f,"$roll",function(ae){var X,x=this;return X=ae.$roll_sum(x.times,x.sides),x.$choice(X)},1),c(f,"$choice",function(ae){var X,x=this;return X=re(ae,x.times),ee("RollResult").$new(x.name,ae,x.items["$[]"](X))},1)},Opal.modules["bcdice/dice_table/range_table"]=function(n){var M,L,K,N,ae,x,X,f,se,ie=[],o=n.nil,i=n.module,e=n.klass,q=n.const_set,P=n.send,V=n.truthy,c=n.def,re=n.to_a,ue=n.rb_minus,T=n.eqeqeq,G=n.rb_times,j=n.rb_plus;return M=ie,L=se=[i(ie[0],"BCDice")].concat(M),K=f=[i(se[0],"DiceTable")].concat(L),ae=[N=e(f[0],null,"RangeTable")].concat(K),x=n.$r(ae),(X=N.$$prototype).name=X.items=X.num_of_dice=X.num_of_sides=X.formatter=o,q(ae[0],"RollResult",P(x("Struct"),"new",["sum","values","content","formatted"],function y(){return(null==y.$$s?this:y.$$s).$alias_method("to_s","formatted")},{$$arity:0,$$s:N})),q(ae[0],"Item",x("Struct").$new("range","content")),q(ae[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),q(ae[0],"DEFAULT_FORMATTER",P(N,"lambda",[],function(h,R){return null==h&&(h=o),null==R&&(R=o),h.$name()+"("+R.$sum()+") \uff1e "+R.$content()},2)),N.$attr_reader("name"),N.$attr_reader("num_of_dice"),N.$attr_reader("num_of_sides"),c(N,"$initialize",function y(h,R,u){var p,A=y.$$p||o,m=this,F=o;return delete y.$$p,m.name=h.$freeze(),m.formatter=V(p=A)?p:x("DEFAULT_FORMATTER"),F=x("DICE_ROLL_METHOD_RE").$match(R),V(F)||m.$raise(x("ArgumentError"),m.name+": invalid dice roll method: "+R),m.num_of_dice=F["$[]"](1).$to_i(),m.num_of_sides=F["$[]"](2).$to_i(),m.$store(u)},3),c(N,"$fetch",function(h){var u,R=this;return u=P(R.items,"find",[],function(m){return null==m&&(m=o),m.$range()["$include?"](h)},1),V(u)||R.$raise(x("RangeError"),R.name+": value is out of range: "+h),u},1),c(N,"$roll",function(h){var A,m,p,R=this,u=o;return A=(u=h.$roll_barabara(R.num_of_dice,R.num_of_sides)).$sum(),m=x("RollResult").$new(A,u,R.$fetch(A).$content()),p=[R.formatter["$[]"](R,m)],P(m,"formatted=",re(p)),ue(p.length,1),m},1),N.$private(),c(N,"$store",function(h){var u,A,R=this;return u=P(h,"map",[],function m(p,F){return null==p&&(p=o),null==F&&(F=o),[(null==m.$$s?this:m.$$s).$coerce_to_int_range(p),F]},{$$arity:2,$$s:R}),A=P(u,"sort_by",[],function(p,F){return null==p&&(p=o),null==F&&(F=o),p.$min()},2),R.$assert_min_sum_is_covered(A),R.$assert_max_sum_is_covered(A),R.$assert_no_gap_or_overlap_in_ranges(A),R.items=P(A,"map",[],function(p,F){return null==p&&(p=o),null==F&&(F=o),x("Item").$new(p,F.$freeze()).$freeze()},2).$freeze(),R},1),c(N,"$coerce_to_int_range",function(h){var u;return T(x("Integer"),u=h)?x("Range").$new(h,h):T(x("Range"),u)&&V(h.$begin()["$is_a?"](x("Integer")))&&V(h.$end()["$is_a?"](x("Integer")))?h:this.$raise(x("TypeError"),this.name+": "+h+" ("+h.$class()+") must be an Integer or a Range with Integers ")},1),c(N,"$assert_min_sum_is_covered",function(h){var u,R=this,A=o;return u=R.num_of_dice,A=h.$first()["$[]"](0),V(A["$include?"](u))||R.$raise(x("RangeError"),R.name+": min value ("+u+") is not covered: "+A),R},1),c(N,"$assert_max_sum_is_covered",function(h){var u,R=this,A=o;return u=G(R.num_of_dice,R.num_of_sides),A=h.$last()["$[]"](0),V(A["$include?"](u))||R.$raise(x("RangeError"),R.name+": max value ("+u+") is not covered: "+A),R},1),c(N,"$assert_no_gap_or_overlap_in_ranges",function(h){return P(h,"each_cons",[2],function u(A,m){var $e,C,p=null==u.$$s?this:u.$$s,F=o,J=o;return null==p.name&&(p.name=o),null==A&&(A=o),null==m&&(m=o),F=A["$[]"](0),J=m["$[]"](0),$e=F.$max(),C=j($e,1),V(J["$include?"]($e))&&p.$raise(x("RangeError"),p.name+": Range overlap: "+F+" and "+J),V(J["$include?"](C))?o:p.$raise(x("RangeError"),p.name+": Range gap: "+F+" and "+J)},{$$arity:2,$$s:this}),this},1)},Opal.queue(function(n){var ae,h,F,g,r,b,l,J,$e,C,u,A,X,ie=n.top,o=[],i=n.nil,e=n.$$$,q=n.module,P=n.klass,V=n.const_set,c=n.truthy,re=n.hash2,ue=n.defs,T=n.def,G=n.eqeqeq,j=n.send,Q=n.rb_times,M=n.to_ary,U=n.rb_plus,se=n.rb_gt,Z=n.rb_ge,L=n.rb_divide,_=n.to_a,f=n.rb_minus,d=n.range,ee=n.eqeq,K=n.hash;return ie.$require("bcdice/format"),ie.$require("bcdice/command/parser"),ie.$require("bcdice/dice_table/table"),ie.$require("bcdice/dice_table/range_table"),ae=o,h=X=[q(o[0],"BCDice")].concat(ae),u=[q(X[0],"GameSystem")].concat(h),A=n.$r(u),F=u,$e=[J=P(u[0],A("Base"),"BattleTech")].concat(F),C=n.$r($e),J.$$prototype.randomizer=i,V($e[0],"ID","BattleTech"),V($e[0],"NAME","\u30d0\u30c8\u30eb\u30c6\u30c3\u30af"),V($e[0],"SORT_KEY","\u306f\u3068\u308b\u3066\u3064\u304f"),V($e[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u65b9\u6cd5\n\u3000(\u56de\u6570)BT(\u30c0\u30e1\u30fc\u30b8)(\u90e8\u4f4d)+(\u57fa\u672c\u5024)>=(\u76ee\u6a19\u5024)\n\u3000\u56de\u6570\u306f\u7701\u7565\u6642 1\u56fa\u5b9a\u3002\n\u3000\u90e8\u4f4d\u306fC\uff08\u6b63\u9762\uff09R\uff08\u53f3\uff09\u3001L\uff08\u5de6\uff09\u3002\u7701\u7565\u6642\u306fC\uff08\u6b63\u9762\uff09\u56fa\u5b9a\n\u3000U\uff08\u4e0a\u534a\u8eab\uff09\u3001L\uff08\u4e0b\u534a\u8eab\uff09\u3092\u7d44\u307f\u5408\u308f\u305b CU/RU/LU/CL/RL/LL\u3082\u6307\u5b9a\u53ef\u80fd\n\u3000\u4f8b\uff09BT3+2>=4\n\u3000\u3000\u6b63\u9762\u304b\u3089\u30c0\u30e1\u30fc\u30b83\u306e\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b92\u76ee\u6a19\u50244\u30671\u56de\u5224\u5b9a\n\u3000\u4f8b\uff092BT3RL+5>=8\n\u3000\u3000\u53f3\u4e0b\u534a\u8eab\u306b\u30c0\u30e1\u30fc\u30b83\u306e\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b95\u76ee\u6a19\u50248\u30672\u56de\u5224\u5b9a\n\u3000\u30df\u30b5\u30a4\u30eb\u306b\u3088\u308b\u30c0\u30e1\u30fc\u30b8\u306f BT(\u30c0\u30e1\u30fc\u30b8) \u306e\u4ee3\u308f\u308a\u306b SRM2/4/6, LRM5/10/15/20 \u3092\u6307\u5b9a\n\u3000\u4f8b\uff093SRM6LU+5>=8\n\u3000\u3000\u5de6\u4e0a\u534a\u8eab\u306bSRM6\u9023\u3092\u6280\u80fd\u30d9\u30fc\u30b95\u76ee\u6a19\u50248\u30673\u56de\u5224\u5b9a\n  BT(\u30c0\u30e1\u30fc\u30b8) \u306e\u4ee3\u308f\u308a\u306b PPC \u3092\u6307\u5b9a\u3059\u308b\u3068\u30c0\u30e1\u30fc\u30b810\u3067\u5224\u5b9a\n  \u4f8b\uff092PPCR+3>=10\n  \u3000\u53f3\u5074\u304b\u3089PPC\uff08\u30c0\u30e1\u30fc\u30b810\uff09\u306b\u3088\u308b\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b93\u76ee\u6a19\u502410\u30672\u56de\u5224\u5b9a\n\u30fbCT\uff1a\u81f4\u547d\u7684\u547d\u4e2d\u8868\n\u30fbDW\uff1a\u8ee2\u5012\u5f8c\u306e\u5411\u304d\u8868\n\u30fbCDx\uff1a\u30e1\u30c3\u30af\u6226\u58eb\u610f\u8b58\u7dad\u6301\u30ed\u30fc\u30eb\u3002\u30c0\u30e1\u30fc\u30b8\u5024x\uff081\u301c6\uff09\u3067\u5224\u5b9a\u3000\u4f8b\uff09CD3\n"),J.$register_prefix("\\d*SRM","\\d*LRM","\\d*BT","\\d*PPC","CT","DW","CD"),V($e[0],"NO_CRITICAL_HIT_LIMIT",7),ue(J,"$ppc_parser",function(){var t=this;return null==t.ppc_parser&&(t.ppc_parser=i),c(t.ppc_parser)||(t.ppc_parser=e(C("Command"),"Parser").$new(/PPC(?:[LCR][LU]?)?/,re(["round_type"],{round_type:e(C("RoundType"),"FLOOR")})),t.ppc_parser.$enable_prefix_number(),t.ppc_parser.$restrict_cmp_op_to(">=")),t.ppc_parser},0),T(J,"$ppc_parser",function(){return this.$class().$ppc_parser()},0),T(J,"$eval_game_system_specific_command",function(t){var g=this,r=i,b=i,l=i,z=i,Y=i,I=i,v=i,a=i,E=i;try{return r=g.$roll_tables(t,C("TABLES")),c(r)?r:c(b=g.$ppc_parser().$parse(t))?g.$execute_ppc(b):(l=1,c(t["$=~"](/^(\d+)(.+)/))&&(l=C("Regexp").$last_match(1).$to_i(),t=C("Regexp").$last_match(2)),g.$debug("executeCommandCatched count",l),g.$debug("executeCommandCatched command",t),G(/^CD([1-6])$/,z=t)?(Y=C("Regexp").$last_match(1).$to_i(),g.$consciousness_roll(Y)):G(/^((S|L)RM\d+)(.+)/,z)?(I=C("Regexp").$last_match(3),v=C("Regexp").$last_match(1),a=j(g,"lambda",[],function $(){return(null==$.$$s?this:$.$$s).$getXrmDamage(v)},{$$arity:0,$$s:g}),g.$getHitResult(l,a,I)):G(/^BT(\d+)(.+)/,z)?(g.$debug("BT pattern"),I=C("Regexp").$last_match(2),E=C("Regexp").$last_match(1).$to_i(),a=j(g,"lambda",[],function(){return E},0),g.$getHitResult(l,a,I)):i)}catch($){if(!n.rescue($,[C("UnknownXRMError")]))throw $;try{return i}finally{n.pop_exception()}}},1),P($e[0],C("StandardError"),"UnknownXRMError"),T(J,"$getXrmDamage",function(t){var l,z,b=i;return c(C("XRM_DAMAGE_TABLES")["$key?"](t))||this.$raise(C("UnknownXRMError"),"unknown XRM: "+t),b=C("XRM_DAMAGE_TABLES")["$[]"](t).$roll(this.randomizer),l=t["$start_with?"]("L"),z=b.$content(),[c(l)?z:Q(2,z),b.$sum(),l]},1),V($e[0],"LRM_LIMIT",5),T(J,"$getHitResult",function(t,g,r){var b=this,l=i,z=i,Y=i,I=i,v=i,a=i,E=i,$=i,s=i,D=i,B=i,S=i,w=i,te=i;return l=/^([LCR][LU]?)?(\+\d+)?>=(\d+)/.$match(r),c(l)?(z=c(Y=l["$[]"](1))?Y:"C",I=l["$[]"](2),v=l["$[]"](3).$to_i(),a=b.$getBaseValue(I),b.$debug("side, base, target",z,a,v),E=e(C("HitPart"),"TABLES")["$[]"](z),$=[],s=re([],{}),D=0,j(t,"times",[],function O(){var ce,oe,_e=null==O.$$s?this:O.$$s,H=i;return oe=_e.$getHitText(a,v),H=null==(ce=M(oe))[1]?i:ce[1],c(null==ce[0]?i:ce[0])&&(D=U(D,1),oe=_e.$getDamages(g,E,s),ce=M(oe),s=null==ce[0]?i:ce[0],H=U(H,null==ce[1]?i:ce[1])),$["$<<"](H)},{$$arity:0,$$s:b}),B=se(D,0),S=" \uff1e "+D+"\u56de\u547d\u4e2d",w=c(B)?S+" \u547d\u4e2d\u7b87\u6240\uff1a"+b.$getTotalDamage(s):S,$.$push(w),te=$.$join("\n"),c(B)?C("Result").$success(te):C("Result").$failure(te)):i},3),T(J,"$getBaseValue",function(t){var g=i;return g=0,c(t["$nil?"]())||(g=C("ArithmeticEvaluator").$eval(t)),g},1),T(J,"$getHitText",function(t,g){var b,l,z,Y,v=i;return b=this.randomizer.$roll_once(6),l=this.randomizer.$roll_once(6),z=U(U(b,l),t),Y=Z(z,g),v=z+"["+b+","+l+(c(se(t,0))?"+"+t:"")+"]>="+g+" \uff1e ",[Y,v=c(Y)?U(v,"\u547d\u4e2d \uff1e "):U(v,"\u5916\u308c")]},2),T(J,"$getDamages",function(t,g,r){var b,l,I,v,a,Y=i,E=i;return Y="",l=t.$call(),b=M(l),I=null==b[0]?i:b[0],v=null==b[1]?i:b[1],E=1,c(a=null==b[2]?i:b[2])&&(E=L(Q(1,I),C("LRM_LIMIT")).$ceil(),Y=U(Y,"["+v+"] "+I+"\u70b9")),j(E,"times",[],function $(s){var D,B,w,O,ce,S=null==$.$$s?this:$.$$s,oe=i,_e=i;return null==s&&(s=i),B=S.$getDamageInfo(v,I,a,s),w=null==(D=M(B))[0]?i:D[0],B=S.$getHitResultOne(null==D[1]?i:D[1],g),O=null==(D=M(B))[0]?i:D[0],ce=null==D[1]?i:D[1],oe=null==D[2]?i:D[2],c(a)&&(Y=U(Y," ")),Y=U(Y,O),c(r["$[]"](ce)["$nil?"]())&&(_e=[ce,re(["partDamages","criticals"],{partDamages:[],criticals:[]})],j(r,"[]=",_(_e)),f(_e.length,1)),r["$[]"](ce)["$[]"]("partDamages")["$<<"](w),c(oe["$empty?"]())?i:r["$[]"](ce)["$[]"]("criticals")["$<<"](oe)},{$$arity:1,$$s:this}),[r,Y]},3),T(J,"$getDamageInfo",function(t,g,r,b){var l=i;return c(t["$nil?"]())?[g,g.$to_s()]:c(r)?(l=f(g,Q(C("LRM_LIMIT"),b)),c(se(l,C("LRM_LIMIT")))&&(l=C("LRM_LIMIT")),[l,l.$to_s()]):[g,"["+t+"] "+g]},4),T(J,"$getTotalDamage",function(t){var b=i,l=i,z=i;return b=0,l=[],j(["\u982d","\u80f4\u4e2d\u592e","\u53f3\u80f4","\u5de6\u80f4","\u53f3\u811a","\u5de6\u811a","\u53f3\u8155","\u5de6\u8155"],"each",[],function(I){var v=i,a=i,E=i,$=i,s=i;return null==I&&(I=i),v=t.$delete(I),c(v["$nil?"]())?i:(a=j(v["$[]"]("partDamages"),"inject",[0],function(B,S){return null==B&&(B=i),null==S&&(S=i),U(B,S)},2),b=U(b,a),E=v["$[]"]("partDamages").$size(),$=v["$[]"]("criticals"),s=U(s="",I+"("+E+"\u56de) "+a+"\u70b9"),c($["$empty?"]())||(s=U(s," "+$.$join(" "))),l["$<<"](s))},1),c(t["$empty?"]())||this.$raise("damages rest!! "+t.$inspect()),z=l.$join(" \uff0f "),U(z," \uff1e \u5408\u8a08\u30c0\u30e1\u30fc\u30b8 "+b+"\u70b9")},1),T(J,"$getHitResultOne",function(t,g){var z,b=i,l=i,Y=i,I=i,v=i;return l=(b=g.$roll(this.randomizer)).$content(),z=c(l.$critical_hit_may_occur())?"\uff08\u81f4\u547d\u7684\u547d\u4e2d\uff09":"",Y=[["["+b.$sum()+"]",""+l.$name()+z,t+"\u70b9"].$join(" ")],I="",c(l.$critical_hit_may_occur())&&(v=C("TABLES")["$[]"]("CT").$roll(this.randomizer),c(se(v.$sum(),C("NO_CRITICAL_HIT_LIMIT")))&&(I=v.$content()),Y.$push("["+v.$sum()+"] "+v.$content())),[Y.$join(" \uff1e "),l.$name(),I]},2),T(J,"$consciousness_roll",function(t){var r=i,l=i,z=i,Y=i,I=i,a=i,E=i,D=i;return c(d(1,6,!1)["$include?"](t))?(r="CD"+t,ee(t,6)?C("Result").$fumble(r+" \uff1e \u6b7b\u4ea1"):(z="(2D6>="+(l=K(1,3,2,5,3,7,4,10,5,11)["$[]"](t))+")",a=(I=(Y=this.randomizer.$roll_barabara(2,6)).$sum())+"["+Y.$join(",")+"]",E=Z(I,l),D=[r,z,a,I,c(E)?"\u6210\u529f":"\u5931\u6557"].$join(" \uff1e "),c(E)?C("Result").$success(D):C("Result").$failure(D))):i},1),T(J,"$execute_ppc",function(t){var r,b,I;return r=c(b=t.$prefix_number())?b:1,I=""+t.$command()["$[]"](d(3,-1,!1))+C("Format").$modifier(t.$modify_number())+">="+t.$target_number(),this.$getHitResult(r,j(this,"lambda",[],function(){return 10},0),I)},1),V($e[0],"TABLES",re(["CT","DW"],{CT:e(C("DiceTable"),"RangeTable").$new("\u81f4\u547d\u7684\u547d\u4e2d\u8868","2D6",[[n.Range.$new(2,C("NO_CRITICAL_HIT_LIMIT"),!1),"\u81f4\u547d\u7684\u547d\u4e2d\u306f\u306a\u304b\u3063\u305f"],[d(8,9,!1),"1\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d"],[d(10,11,!1),"2\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d"],[12,"\u305d\u306e\u90e8\u4f4d\u304c\u5439\u304d\u98db\u3076\uff08\u8155\u3001\u811a\u3001\u982d\uff09\u307e\u305f\u306f3\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d\uff08\u80f4\uff09"]]),DW:e(C("DiceTable"),"Table").$new("\u8ee2\u5012\u5f8c\u306e\u5411\u304d\u8868","1D6",["\u540c\u3058\uff08\u524d\u9762\u304b\u3089\u8ee2\u5012\uff09 \u6b63\u9762\uff0f\u80cc\u9762","1\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u53f3\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u53f3\u5074\u9762","2\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u53f3\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u53f3\u5074\u9762","180\u5ea6\u9006\uff08\u80cc\u9762\u304b\u3089\u8ee2\u5012\uff09 \u6b63\u9762\uff0f\u80cc\u9762","2\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u5de6\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u5de6\u5074\u9762","1\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u5de6\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u5de6\u5074\u9762"])}).$freeze()),V($e[0],"HitPart",C("Struct").$new("name","critical_hit_may_occur")),g=$e,b=[r=P($e[0],null,"HitPart")].concat(g),l=n.$r(b),V(b[0],"LEFT_TORSO","\u5de6\u80f4"),V(b[0],"CENTER_TORSO","\u80f4\u4e2d\u592e"),V(b[0],"RIGHT_TORSO","\u53f3\u80f4"),V(b[0],"LEFT_ARM","\u5de6\u8155"),V(b[0],"RIGHT_ARM","\u53f3\u8155"),V(b[0],"LEFT_LEG","\u5de6\u811a"),V(b[0],"RIGHT_LEG","\u53f3\u811a"),V(b[0],"HEAD","\u982d"),V(b[0],"TABLES",re(["L","C","R","LU","CU","RU","LL","CL","RL"],{L:e(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\uff09","2D6",[[2,r.$new(l("LEFT_TORSO"),!0)],[3,r.$new(l("LEFT_LEG"),!1)],[d(4,5,!1),r.$new(l("LEFT_ARM"),!1)],[6,r.$new(l("LEFT_LEG"),!1)],[7,r.$new(l("LEFT_TORSO"),!1)],[8,r.$new(l("CENTER_TORSO"),!1)],[9,r.$new(l("RIGHT_TORSO"),!1)],[10,r.$new(l("RIGHT_ARM"),!1)],[11,r.$new(l("RIGHT_LEG"),!1)],[12,r.$new(l("HEAD"),!1)]]),C:e(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u6b63\u9762\uff09","2D6",[[2,r.$new(l("CENTER_TORSO"),!0)],[d(3,4,!1),r.$new(l("RIGHT_ARM"),!1)],[5,r.$new(l("RIGHT_LEG"),!1)],[6,r.$new(l("RIGHT_TORSO"),!1)],[7,r.$new(l("CENTER_TORSO"),!1)],[8,r.$new(l("LEFT_TORSO"),!1)],[9,r.$new(l("LEFT_LEG"),!1)],[d(10,11,!1),r.$new(l("LEFT_ARM"),!1)],[12,r.$new(l("HEAD"),!1)]]),R:e(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\uff09","2D6",[[2,r.$new(l("RIGHT_TORSO"),!0)],[3,r.$new(l("RIGHT_LEG"),!1)],[d(4,5,!1),r.$new(l("RIGHT_ARM"),!1)],[6,r.$new(l("RIGHT_LEG"),!1)],[7,r.$new(l("RIGHT_TORSO"),!1)],[8,r.$new(l("CENTER_TORSO"),!1)],[9,r.$new(l("LEFT_TORSO"),!1)],[10,r.$new(l("LEFT_ARM"),!1)],[11,r.$new(l("LEFT_LEG"),!1)],[12,r.$new(l("HEAD"),!1)]]),LU:e(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\u4e0a\u534a\u8eab\uff09","1D6",[[d(1,2,!1),r.$new(l("LEFT_TORSO"),!1)],[3,r.$new(l("CENTER_TORSO"),!1)],[d(4,5,!1),r.$new(l("LEFT_ARM"),!1)],[6,r.$new(l("HEAD"),!1)]]),CU:e(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u6b63\u9762\u4e0a\u534a\u8eab\uff09","1D6",[[1,r.$new(l("LEFT_ARM"),!1)],[2,r.$new(l("LEFT_TORSO"),!1)],[3,r.$new(l("CENTER_TORSO"),!1)],[4,r.$new(l("RIGHT_TORSO"),!1)],[5,r.$new(l("RIGHT_ARM"),!1)],[6,r.$new(l("HEAD"),!1)]]),RU:e(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0a\u534a\u8eab\uff09","1D6",[[d(1,2,!1),r.$new(l("RIGHT_TORSO"),!1)],[3,r.$new(l("CENTER_TORSO"),!1)],[d(4,5,!1),r.$new(l("RIGHT_ARM"),!1)],[6,r.$new(l("HEAD"),!1)]]),LL:e(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\u4e0b\u534a\u8eab\uff09","1D6",[[d(1,6,!1),r.$new(l("LEFT_LEG"),!1)]]),CL:e(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0b\u534a\u8eab\uff09","1D6",[[d(1,3,!1),r.$new(l("RIGHT_LEG"),!1)],[d(4,6,!1),r.$new(l("LEFT_LEG"),!1)]]),RL:e(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0b\u534a\u8eab\uff09","1D6",[[d(1,6,!1),r.$new(l("RIGHT_LEG"),!1)]])}).$freeze()),V($e[0],"XRM_DAMAGE_TABLES",re(["SRM2","SRM4","SRM6","LRM5","LRM10","LRM15","LRM20"],{SRM2:e(C("DiceTable"),"RangeTable").$new("SRM2\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[d(2,7,!1),1],[d(8,12,!1),2]]),SRM4:e(C("DiceTable"),"RangeTable").$new("SRM4\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[2,1],[d(3,6,!1),2],[d(7,10,!1),3],[d(11,12,!1),4]]),SRM6:e(C("DiceTable"),"RangeTable").$new("SRM6\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[d(2,3,!1),2],[d(4,5,!1),3],[d(6,8,!1),4],[d(9,10,!1),5],[d(11,12,!1),6]]),LRM5:e(C("DiceTable"),"RangeTable").$new("LRM5\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[2,1],[d(3,4,!1),2],[d(5,8,!1),3],[d(9,10,!1),4],[d(11,12,!1),5]]),LRM10:e(C("DiceTable"),"RangeTable").$new("LRM10\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[d(2,3,!1),3],[4,4],[d(5,8,!1),6],[d(9,10,!1),8],[d(11,12,!1),10]]),LRM15:e(C("DiceTable"),"RangeTable").$new("LRM15\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[d(2,3,!1),5],[4,6],[d(5,8,!1),9],[d(9,10,!1),12],[d(11,12,!1),15]]),LRM20:e(C("DiceTable"),"RangeTable").$new("LRM20\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[d(2,3,!1),6],[4,9],[d(5,8,!1),12],[d(9,10,!1),16],[d(11,12,!1),20]])}).$freeze())})}}]);