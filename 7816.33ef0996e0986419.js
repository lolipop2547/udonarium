(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7816],{7816:(ie,te,ne)=>{ne(9993),Opal.modules["bcdice/game_system/beginning_idol/chain_table"]=function(e){var A,E,j,W,S,T,C,B,w,V,z,m,h=[],t=e.nil,r=e.module,a=e.klass,y=e.truthy,v=e.def,I=e.rb_minus,k=e.send;return A=h,E=m=[r(h[0],"BCDice")].concat(A),V=[r(m[0],"GameSystem")].concat(E),z=e.$r(V),j=V,W=w=[a(V[0],z("Base"),"BeginningIdol")].concat(j),T=[S=a(w[0],null,"ChainTable")].concat(W),C=e.$r(T),(B=S.$$prototype).times=B.sides=B.items=B.name=t,v(S,"$initialize",function(d,f,i){var $=this,n=t;return $.name=d,$.items=i.$freeze(),n=/^(\d+)D(\d+)$/i.$match(f),y(n)||$.$raise(C("ArgumentError"),"Unexpected table type: "+f),$.times=n["$[]"](1).$to_i(),$.sides=n["$[]"](2).$to_i()},3),v(S,"$roll",function(d){var i,$,n,u,f=this;return i=d.$roll_sum(f.times,f.sides),$=I(i,f.times),n=f.items["$[]"]($),u=k(n,"map",[],function(_){return null==_&&(_=t),y(_["$respond_to?"]("roll"))?_.$roll(d):_},1).$join("\n"),f.name+"("+i+") \uff1e "+u},1)},Opal.modules["bcdice/game_system/beginning_idol/chain_d66_table"]=function(e){var R,p,q,S,T,G,z,L,P,h=[],t=e.nil,r=e.module,a=e.klass,y=e.def,v=e.rb_plus,I=e.rb_times,k=e.send,H=e.truthy;return R=h,p=P=[r(h[0],"BCDice")].concat(R),z=[r(P[0],"GameSystem")].concat(p),L=e.$r(z),q=z,G=[a(z[0],L("Base"),"BeginningIdol")].concat(q),(T=(S=a(G[0],null,"ChainD66Table")).$$prototype).items=T.name=t,y(S,"$initialize",function(B,D){return this.name=B,this.items=D.$freeze()},2),y(S,"$roll",function(B){var i,$,d=t,f=t;return d=B.$roll_barabara(2,6).$sort(),f=v(I(d["$[]"](0),10),d["$[]"](1)),i=this.items["$[]"](f.$to_s()),$=k(i,"map",[],function(u){return null==u&&(u=t),H(u["$respond_to?"]("roll"))?u.$roll(B):u},1).$join("\n"),this.name+"("+f+") \uff1e "+$},1)},Opal.modules["bcdice/game_system/beginning_idol/bad_status_table"]=function(e){var E,L,x,B,D,d,f,S,j,q,V,h=[],t=e.nil,r=e.module,a=e.klass,y=e.def,v=e.truthy,I=e.send,k=e.rb_le,H=e.hash2,A=e.rb_gt,R=e.rb_plus,m=e.rb_minus;return E=h,L=V=[r(h[0],"BCDice")].concat(E),j=[r(V[0],"GameSystem")].concat(L),q=e.$r(j),x=j,B=S=[a(j[0],q("Base"),"BeginningIdol")].concat(x),d=[D=a(S[0],null,"BadStatusTable")].concat(B),f=e.$r(d),D.$$prototype.locale=t,y(D,"$initialize",function(n){return this.locale=n},1),y(D,"$roll_command",function(n,u){var o,c=t,s=t,l=t;return c=/^BT(\d+)?$/.$match(u),v(c)?(s=v(l=(o=c["$[]"](1))===t||null==o?t:I(o,"to_i",[]))?l:1,this.$roll(n,s)):t},2),y(D,"$roll",function(n,u){var o=this,_=t,c=t,s=t,l=t,b=t,g=t,M=t;return null==u&&(u=1),v(k(u,0))?t:(_=f("I18n").$t("BeginningIdol.BT.name",H(["locale"],{locale:o.locale})),c=f("I18n").$t("BeginningIdol.BT.items",H(["locale"],{locale:o.locale})),s=f("I18n").$t("BeginningIdol.BT.prefix_format",H(["locale"],{locale:o.locale})),b=(l=n.$roll_barabara(u,6).$sort()).$uniq(),v(A(b.$size(),1))&&(g=R(o.$format(s,H(["count_bad_status"],{count_bad_status:b.$size()})),"\n")),M=I(b,"map",[],function(F){return null==F&&(F=t),c["$[]"](m(F,1))},1).$join("\n"),_+" \uff1e ["+l.$join(",")+"] \uff1e "+g+M)},-2)},Opal.modules["bcdice/game_system/beginning_idol/random_event_table"]=function(e){var A,E,j,W,S,T,C,w,V,z,m,h=[],t=e.nil,r=e.$$$,a=e.module,y=e.klass,v=e.def,I=e.truthy,k=e.hash2;return A=h,E=m=[a(h[0],"BCDice")].concat(A),V=[a(m[0],"GameSystem")].concat(E),z=e.$r(V),j=V,W=w=[y(V[0],z("Base"),"BeginningIdol")].concat(j),T=[S=y(w[0],null,"RandomEventTable")].concat(W),C=e.$r(T),S.$$prototype.locale=t,v(S,"$initialize",function(d){return this.locale=d},1),v(S,"$roll",function(d){var n,o,_,f=this,i=t,$=t,u=t,c=t;return i=d.$roll_once(6),$=d.$roll_d66(r(C("D66SortType"),"NO_SORT")),n=I(i["$even?"]())?"BeginningIdol.RE.on_event":"BeginningIdol.RE.off_event",u=C("I18n").$t(n,k(["locale"],{locale:f.locale})),o=C("I18n").$t("BeginningIdol.RE.name",k(["locale"],{locale:f.locale})),_=C("I18n").$t("BeginningIdol.RE.format",k(["locale"],{locale:f.locale})),c=u["$[]"]("items")["$[]"]($.$to_s()),o+" \uff1e (1D6) \uff1e "+i+"\n"+u["$[]"]("name")+" \uff1e ["+$+"] \uff1e "+f.$format(_,k(["event","page"],{event:c["$[]"](0),page:c["$[]"](1)}))},1)},Opal.modules["bcdice/game_system/beginning_idol/my_skill_name_table"]=function(e){var P,z,G,C,B,D,d,f,W,U,j,p,h=[],t=e.nil,r=e.$$$,a=e.module,y=e.klass,v=e.def,I=e.send,k=e.rb_minus,H=e.rb_plus,A=e.hash2,R=e.to_a;return P=h,z=p=[a(h[0],"BCDice")].concat(P),U=[a(p[0],"GameSystem")].concat(z),j=e.$r(U),G=U,C=W=[y(U[0],j("Base"),"BeginningIdol")].concat(G),D=[B=y(W[0],null,"MySkillNameTable")].concat(C),d=e.$r(D),(f=B.$$prototype).chains=f.locale=t,v(B,"$initialize",function($){var u=t,o=t,_=t,c=t,s=t;return this.locale=$,u=r(d("DiceTable"),"Table").$from_i18n("BeginningIdol.MS.subtables.article",$),o=r(d("DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.describe",$),_=r(d("DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.scene",$),c=r(d("DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.material",$),s=r(d("DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.action",$),this.chains=[[o,_,c],[o,_,s],[o,c,s],[_,c,s],[o,_,u],[c,s,u]].$freeze()},1),v(B,"$roll",function($){var u,o,c,l,n=this,_=t,s=t;return u=$.$roll_once(6),o=I(n.chains["$[]"](k(u,1)),"map",[],function(g){return null==g&&(g=t),g.$roll($)},1),_=I(o,"map",[],function(g){return null==g&&(g=t),H(g.$table_name(),g.$value().$to_s())},1),c=d("I18n").$t("BeginningIdol.MS.name",A(["locale"],{locale:n.locale})),s=d("I18n").$t("BeginningIdol.MS.formats",A(["locale"],{locale:n.locale}))["$[]"](k(u,1)),l=I(n,"format",[s].concat(R(I(o,"map",[],"body".$to_proc())))),c+" \uff1e ["+u+","+_.$join(",")+"] \uff1e "+l},1)},Opal.modules["bcdice/game_system/beginning_idol/d6_twice_table"]=function(e){var R,p,q,S,T,C,B,D,G,z,L,P,h=[],t=e.nil,r=e.module,a=e.klass,y=e.hash2,v=e.defs,I=e.def,k=e.to_ary,H=e.rb_minus;return R=h,p=P=[r(h[0],"BCDice")].concat(R),z=[r(P[0],"GameSystem")].concat(p),L=e.$r(z),q=z,S=G=[a(z[0],L("Base"),"BeginningIdol")].concat(q),C=[T=a(G[0],null,"D6TwiceTable")].concat(S),B=e.$r(C),(D=T.$$prototype).items1=D.items2=D.name=t,v(T,"$from_i18n",function(f,i){var n=t;return n=B("I18n").$t(f,y(["locale"],{locale:i})),this.$new(n["$[]"]("name"),n["$[]"]("items1"),n["$[]"]("items2"))},2),I(T,"$initialize",function(f,i,$){var n=this;return n.name=f,n.items1=i,n.items2=$},3),I(T,"$roll",function(f){var i,$,u,o,_,c,n=this;return $=f.$roll_barabara(2,6),o=null==(i=k($))[1]?t:i[1],_=n.items1["$[]"](H(u=null==i[0]?t:i[0],1)),c=n.items2["$[]"](H(o,1)),n.name+"["+u+","+o+"] \uff1e "+_+c},1)},Opal.modules["bcdice/game_system/beginning_idol/item_table"]=function(e){var P,z,G,C,B,D,d,W,U,j,p,h=[],t=e.nil,r=e.module,a=e.klass,y=e.def,v=e.truthy,I=e.send,k=e.eqeq,H=e.hash2,A=e.rb_minus,R=e.neqeq;return P=h,z=p=[r(h[0],"BCDice")].concat(P),U=[r(p[0],"GameSystem")].concat(z),j=e.$r(U),G=U,C=W=[a(U[0],j("Base"),"BeginningIdol")].concat(G),D=[B=a(W[0],null,"ItemTable")].concat(C),d=e.$r(D),B.$$prototype.locale=t,y(B,"$initialize",function($){return this.locale=$},1),y(B,"$roll_command",function($,n){var u,_=t,c=t,s=t;return _=/^IT(\d+)?$/.$match(n),v(_)?(c=v(s=(u=_["$[]"](1))===t||null==u?t:I(u,"to_i",[]))?s:1,this.$roll($,c)):t},2),y(B,"$roll",function($,n){var o=t,_=t,c=t,s=t;return null==n&&(n=1),k(n,0)?t:(o=d("I18n").$t("BeginningIdol.item_table",H(["locale"],{locale:this.locale})),_=$.$roll_barabara(n,6).$sort(),c=I(_,"group_by",[],"itself".$to_proc()),s=I(c,"map",[],function l(b,g){var M=null==l.$$s?this:l.$$s,N=t;return null==b&&(b=t),null==g&&(g=t),N=o["$[]"]("items")["$[]"](A(b,1)),R(c.$size(),1)&&(N=M.$format(o["$[]"]("emph"),H(["item"],{item:N}))),k(_.$size(),c.$size())?N:M.$format(o["$[]"]("counting"),H(["item","count"],{item:N,count:g.$size()}))},{$$arity:2,$$s:this}),o["$[]"]("name")+" \uff1e ["+_.$join(",")+"] \uff1e "+s.$join(o["$[]"]("sep")))},-2)},Opal.modules["bcdice/game_system/beginning_idol/costume_table"]=function(e){var R,p,q,S,T,C,B,D,G,z,L,P,h=[],t=e.nil,r=e.$$$,a=e.module,y=e.klass,v=e.hash2,I=e.defs,k=e.def,H=e.send;return R=h,p=P=[a(h[0],"BCDice")].concat(R),z=[a(P[0],"GameSystem")].concat(p),L=e.$r(z),q=z,S=G=[y(z[0],L("Base"),"BeginningIdol")].concat(q),C=[T=y(G[0],null,"CostumeTable")].concat(S),B=e.$r(C),(D=T.$$prototype).name=D.items=t,I(T,"$from_i18n",function(f,i){var n=t;return n=B("I18n").$t(f,v(["locale"],{locale:i})),this.$new(n["$[]"]("name"),n["$[]"]("items"))},2),k(T,"$initialize",function(f,i){return this.name=f,this.items=i},2),k(T,"$roll",function(f){var $=t;return $=f.$roll_d66(r(B("D66SortType"),"ASC")),this.name+"("+$+") \uff1e "+this.items["$[]"]($.$to_s())},1),k(T,"$brand_only",function(){return r(B("DiceTable"),"D66Table").$new(this.name,r(B("D66SortType"),"ASC"),H(this.items,"transform_values",[],function($){return null==$&&($=t),$.$split("\n").$first()},1))},0)},Opal.modules["bcdice/game_system/beginning_idol/accessories_table"]=function(e){var H,P,U,w,x,W,j,q,p,V,R,h=[],t=e.nil,r=e.$$$,a=e.module,y=e.klass,v=e.hash2,I=e.def;return H=h,P=R=[a(h[0],"BCDice")].concat(H),p=[a(R[0],"GameSystem")].concat(P),V=e.$r(p),U=p,q=[j=y(p[0],V("Base"),"BeginningIdol")].concat(U),x=[w=e.get_singleton_class(j)].concat(q),W=e.$r(x),w.$private(),I(w,"$translate_accessories_table",function(T){var B,C=t;return C=W("I18n").$t("BeginningIdol.ACT.items",v(["locale"],{locale:T})),B=[r(W("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.head",T),r(W("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.hat",T),r(W("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.body",T),r(W("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.arm",T),r(W("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.foot",T),r(W("DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.other",T)],W("ChainTable").$new(W("I18n").$t("BeginningIdol.ACT.name",v(["locale"],{locale:T})),"1D6",C.$zip(B))},1)},Opal.modules["bcdice/game_system/beginning_idol/with_abnormality"]=function(e){var E,L,w,G,x,B,D,d,f,S,T,j,q,V,h=[],t=e.nil,r=e.$$$,a=e.module,y=e.klass,v=e.hash2,I=e.truthy,k=e.def,H=e.send,A=e.defs,R=e.send2,m=e.find_super;return E=h,L=V=[a(h[0],"BCDice")].concat(E),j=[a(V[0],"GameSystem")].concat(L),q=e.$r(j),w=j[0],G=q("Base"),x=j,S=[y(w,G,"BeginningIdol")].concat(x),T=e.$r(S),B=S,d=[D=a(S[0],"WithAbnormality")].concat(B),f=e.$r(d),k(D,"$replace_abnormality",function($,n){var u=this,o=t,_=t,c=t,s=t,l=t;return null==u.locale&&(u.locale=t),null==u.bad_status_table&&(u.bad_status_table=t),_=(o=f("Regexp").$new(f("I18n").$t("BeginningIdol.abnormality.regexp",v(["locale"],{locale:u.locale})))).$match($.$body()),I(_)&&(c=u.$kanji_to_i(_["$[]"](1)),I(c))?(s=u.bad_status_table.$roll(n,c),l=$.$body().$sub(o,s),r(f("DiceTable"),"RollResult").$new($.$table_name(),$.$value(),l)):$},2),k(D,"$kanji_to_i",function($){var n,u=this;return null==u.locale&&(u.locale=t),(n=f("I18n").$t("BeginningIdol.abnormality.num_map",v(["locale"],{locale:u.locale})).$find_index($))===t||null==n?t:H(n,"succ",[])},1),function(C,B,D){var d=y(C,B,"D66WithAbnormality"),f=[d].concat(D),i=e.$r(f);d.$include(i("WithAbnormality")),A(d,"$from_i18n",function(n,u,o){var s,c=t;return c=i("I18n").$t(n,v(["locale"],{locale:o})),s=i("D66SortType").$const_get(c["$[]"]("d66_sort_type")),this.$new(c["$[]"]("name"),s,c["$[]"]("items"),u,o)},3),k(d,"$initialize",function $(n,u,o,_,c){var l=this;return delete $.$$p,R(l,m(l,"initialize",$,!1,!0),"initialize",[n,u,o],null),l.bad_status_table=_,l.locale=c},5),k(d,"$roll",function $(n){var _,o=this;return delete $.$$p,_=R(o,m(o,"roll",$,!1,!0),"roll",[n],null),o.$replace_abnormality(_,n)},1)}(S[0],r(T("DiceTable"),"D66Table"),S),function(C,B,D){var d=y(C,B,"TableWithAbnormality"),f=[d].concat(D),i=e.$r(f);return d.$include(i("WithAbnormality")),A(d,"$from_i18n",function(n,u,o){var c=t;return c=i("I18n").$t(n,v(["locale"],{locale:o})),this.$new(c["$[]"]("name"),c["$[]"]("type"),c["$[]"]("items"),u,o)},3),k(d,"$initialize",function $(n,u,o,_,c){var l=this;return delete $.$$p,R(l,m(l,"initialize",$,!1,!0),"initialize",[n,u,o],null),l.bad_status_table=_,l.locale=c},5),k(d,"$roll",function $(n){var _,o=this;return delete $.$$p,_=R(o,m(o,"roll",$,!1,!0),"roll",[n],null),o.$replace_abnormality(_,n)},1)}(S[0],r(T("DiceTable"),"Table"),S)},Opal.modules["bcdice/game_system/beginning_idol/work_table"]=function(e){var p,U,W,d,f,i,$,n,S,T,C,q,w,z,h=[],t=e.nil,r=e.$$$,a=e.module,y=e.klass,v=e.hash2,I=e.defs,k=e.send2,H=e.find_super,A=e.def,R=e.truthy,m=e.send,P=e.rb_ge;return p=h,U=z=[a(h[0],"BCDice")].concat(p),q=[a(z[0],"GameSystem")].concat(U),w=e.$r(q),W=q,T=[S=y(q[0],w("Base"),"BeginningIdol")].concat(W),C=e.$r(T),d=T,i=[f=y(T[0],r(C("DiceTable"),"D66Table"),"WorkWithChanceTable")].concat(d),$=e.$r(i),(n=f.$$prototype).regexp=n.off=t,I(f,"$from_i18n",function(o,_){var l,s=t;return s=$("I18n").$t(o,v(["locale"],{locale:_})),l=$("D66SortType").$const_get(s["$[]"]("d66_sort_type")),this.$new(s["$[]"]("name"),l,s["$[]"]("items"),_)},2),A(f,"$initialize",function u(o,_,c,s){var b=this;return delete u.$$p,k(b,H(b,"initialize",u,!1,!0),"initialize",[o,_,c],null),b.regexp=$("Regexp").$new($("I18n").$t("BeginningIdol.with_chance.regexp",v(["locale"],{locale:s}))),b.off=$("I18n").$t("BeginningIdol.with_chance.off_text",v(["locale"],{locale:s}))},4),A(f,"$roll_command",function(o,_){var c,l=t;return l=/^LO([1-6]{1,2})?$/.$match(_),R(l)?this.$roll(o,(c=l["$[]"](1))===t||null==c?t:m(c,"to_i",[])):t},2),A(f,"$roll",function u(o,_){var s=this,l=t,b=t;return delete u.$$p,null==_&&(_=t),l=k(s,H(s,"roll",u,!1,!0),"roll",[o],null),R(_)?(b=s.regexp.$match(l.$body()),R(b)&&R(P(b["$[]"](1).$to_i(),_))?r($("DiceTable"),"RollResult").$new(l.$table_name(),l.$value(),s.off):R(b)?r($("DiceTable"),"RollResult").$new(l.$table_name(),l.$value(),l.$body().$sub(s.regexp,"")):l):l},-2),function(B,D){var d=[B].concat(D),f=e.$r(d);B.$private(),A(B,"$translate_local_work_table",function($){return f("WorkWithChanceTable").$from_i18n("BeginningIdol.local_work",$)},1)}(e.get_singleton_class(S),T),S.$register_prefix("LO")},Opal.modules["bcdice/game_system/beginning_idol/skill_table"]=function(e){var p,U,G,x,W,B,D,d,T,C,q,w,z,h=[],t=e.nil,r=e.$$$,a=e.module,y=e.klass,v=e.def,I=e.hash2,k=e.defs,H=e.send2,A=e.find_super,R=e.truthy,m=e.rb_plus,P=e.send;return p=h,U=z=[a(h[0],"BCDice")].concat(p),q=[a(z[0],"GameSystem")].concat(U),w=e.$r(q),G=q[0],x=w("Base"),W=q,T=[y(G,x,"BeginningIdol")].concat(W),C=e.$r(T),B=T[0],D=r(C("DiceTable"),"SaiFicSkillTable"),d=y(B,D,"SkillTable"),v(d,"$roll",function(i){return this.$roll_command(i,"RTT")},1),function(B,D,d){var f=y(B,D,"SkillGetTable"),i=[f].concat(d),$=e.$r(i);f.$$prototype.reroll_reg=t,k(f,"$from_i18n",function(o,_,c){var l=t;return l=$("I18n").$t(o,I(["locale"],{locale:c})),this.$new(l["$[]"]("name"),l["$[]"]("type"),l["$[]"]("items"),_,c)},3),v(f,"$initialize",function u(o,_,c,s,l){var g=this,M=t;return delete u.$$p,H(g,A(g,"initialize",u,!1,!0),"initialize",[o,_,c],null),g.skill_table=s,M=$("I18n").$t("BeginningIdol.skill_get_table",I(["locale"],{locale:l})),g.reroll_reg=$("Regexp").$new(M["$[]"]("reroll_reg")),g.reroll=M["$[]"]("reroll"),g.secondary_name=M["$[]"]("secondary_name")},5),v(f,"$roll",function u(o){var c=this,s=t,l=t,b=t,g=t;return delete u.$$p,s=H(c,A(c,"roll",u,!1,!0),"roll",[o],null),l=c.reroll_reg.$match(s.$body()),R(l)?(b=l.$captures(),g=m(s.$body(),"\n"),function(){var M=e.new_brk();try{P(c,"loop",[],function N(){var F=null==N.$$s?this:N.$$s,Y=t;return null==F.skill_table&&(F.skill_table=t),null==F.secondary_name&&(F.secondary_name=t),null==F.reroll&&(F.reroll=t),Y=F.skill_table.$roll_skill(o),g=m(g,F.secondary_name+" \uff1e ["+Y.$category_dice()+","+Y.$row_dice()+"] \uff1e "+Y),R(b["$include?"](Y.$category_name()))||e.brk(t,M),g=m(g," \uff1e "+F.reroll+"\n")},{$$arity:0,$$s:c,$$brk:M})}catch(N){if(N===M)return N.$v;throw N}}(),r($("DiceTable"),"RollResult").$new(s.$table_name(),s.$value(),g)):s},1)}(T[0],r(C("DiceTable"),"Table"),T),function(B,D){var d=y(B,null,"SkillHometown");return d.$$prototype.skill_name=t,v(d,"$initialize",function($){return this.skill_name=$},1),v(d,"$roll",function($){return this.skill_name.$roll_command($,"AT6")},1)}(T[0])},Opal.modules["bcdice/game_system/beginning_idol/table"]=function(e){var V,j,S,D,f,i,T,C,B,w,G,L,h=e.top,t=[],r=e.nil,a=e.$$$,y=e.module,v=e.klass,I=e.hash2,k=e.def,H=e.send,A=e.truthy,R=e.eqeq,m=e.to_a,P=e.rb_minus,E=e.const_set;return h.$require("bcdice/game_system/beginning_idol/chain_table"),h.$require("bcdice/game_system/beginning_idol/chain_d66_table"),h.$require("bcdice/game_system/beginning_idol/bad_status_table"),h.$require("bcdice/game_system/beginning_idol/random_event_table"),h.$require("bcdice/game_system/beginning_idol/my_skill_name_table"),h.$require("bcdice/game_system/beginning_idol/d6_twice_table"),h.$require("bcdice/game_system/beginning_idol/item_table"),h.$require("bcdice/game_system/beginning_idol/costume_table"),h.$require("bcdice/game_system/beginning_idol/accessories_table"),h.$require("bcdice/game_system/beginning_idol/with_abnormality"),h.$require("bcdice/game_system/beginning_idol/work_table"),h.$require("bcdice/game_system/beginning_idol/skill_table"),V=t,j=L=[y(t[0],"BCDice")].concat(V),w=[y(L[0],"GameSystem")].concat(j),G=e.$r(w),S=w,C=[T=v(w[0],G("Base"),"BeginningIdol")].concat(S),B=e.$r(C),f=[D=e.get_singleton_class(T)].concat(C),i=e.$r(f),D.$private(),k(D,"$translate_skill_table",function(n){return i("SkillTable").$from_i18n("BeginningIdol.skill_table",n,I(["rtt","rttn"],{rtt:"AT",rttn:["AT1","AT2","AT3","AT4","AT5","AT6"]}))},1),k(D,"$translate_tables",function(n){var s,l,b,g,M,N,F,Y,X,J,o=r,_=r,c=r,K=r;return o=i("CostumeTable").$from_i18n("BeginningIdol.tables.DT",n),_=i("CostumeTable").$from_i18n("BeginningIdol.tables.RC",n),c=i("CostumeTable").$from_i18n("BeginningIdol.tables.FC",n),s=i("ChainTable").$new(i("I18n").$t("BeginningIdol.ACB.name",I(["locale"],{locale:n})),"1D6",[[i("I18n").$t("BeginningIdol.ACB.items.challenge_girls",I(["locale"],{locale:n})),o.$brand_only()],[i("I18n").$t("BeginningIdol.ACB.items.challenge_girls",I(["locale"],{locale:n})),o.$brand_only()],[i("I18n").$t("BeginningIdol.ACB.items.road_to_prince",I(["locale"],{locale:n})),_.$brand_only()],[i("I18n").$t("BeginningIdol.ACB.items.road_to_prince",I(["locale"],{locale:n})),_.$brand_only()],[i("I18n").$t("BeginningIdol.ACB.items.fortune_stars",I(["locale"],{locale:n})),c.$brand_only()],[i("I18n").$t("BeginningIdol.ACB.items.fortune_stars",I(["locale"],{locale:n})),c.$brand_only()]]),l=i("BadStatusTable").$new(n),b=this.$translate_skill_table(n),g=a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.rare_skill_table",n),M=i("ItemTable").$new(n),N=i("ChainTable").$new(i("I18n").$t("BeginningIdol.TN.name",I(["locale"],{locale:n})),"1D6",H(i("I18n").$t("BeginningIdol.TN.items",I(["locale"],{locale:n})).$dup(),"tap",[],function(Q){return null==Q&&(Q=r),Q["$[]"](3).$push(b)},1)),F=i("ChainTable").$new(i("I18n").$t("BeginningIdol.CG.name",I(["locale"],{locale:n})),"1D6",H(i("I18n").$t("BeginningIdol.CG.items",I(["locale"],{locale:n})).$map(),"with_index",[],function(Q,Z){return null==Q&&(Q=r),null==Z&&(Z=r),A([3,4]["$include?"](Z))?[Q,M]:[Q]},2)),Y=i("ChainD66Table").$new(i("I18n").$t("BeginningIdol.GG.name",I(["locale"],{locale:n})),H(i("I18n").$t("BeginningIdol.GG.items",I(["locale"],{locale:n})),"to_h",[],function(Q,Z){return null==Q&&(Q=r),null==Z&&(Z=r),[Q,A(["23","24","25"]["$include?"](Q))?[Z,g]:R(Q,"56")?[Z,M]:[Z]]},2)),X=["22",[(K=i("I18n").$t("BeginningIdol.HA.items",I(["locale"],{locale:n})))["$[]"]("22"),i("SkillHometown").$new(b)].$flatten()],H(K,"[]=",m(X)),P(X.length,1),J=i("ChainD66Table").$new(i("I18n").$t("BeginningIdol.HA.name",I(["locale"],{locale:n})),K),I(["DT","RC","FC","ACB","TN","CG","GG","HA","CBT","RCB","HBT","RHB","RU","SIP","BU","HW","FL","MSE","ST","FST","BWT","LWT","TWT","CWT","SU","WI","NA","GA","BA","WT","VA","MU","DR","VI","SP","CHR","PAR","SW","AN","MOV","FA","BVT","LVT","TVT","CVT","BST","LST","TST","CST","BPT","LPT","TPT","CPT","BIT","LIT","TIT","CIT","CHO","SCH","WCH","NCH","GCH","PCH","LUR","SUR","WUR","NUR","GUR","BUR","ACE","ACT","MS","RE","SH","MO","SEA","SPA","LN","SGT","RS"],{DT:o,RC:_,FC:c,ACB:s,TN:N,CG:F,GG:Y,HA:J,CBT:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CBT",n),RCB:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.RCB",n),HBT:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.HBT",n),RHB:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.RHB",n),RU:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.RU",n),SIP:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.SIP",n),BU:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BU",n),HW:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.HW",n),FL:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.FL",n),MSE:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.MSE",n),ST:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.ST",n),FST:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.FST",n),BWT:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.BWT",n),LWT:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.LWT",n),TWT:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.TWT",n),CWT:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CWT",n),SU:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SU",n),WI:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.WI",n),NA:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.NA",n),GA:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.GA",n),BA:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.BA",n),WT:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.WT",n),VA:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.VA",n),MU:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.MU",n),DR:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.DR",n),VI:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.VI",n),SP:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SP",n),CHR:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CHR",n),PAR:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.PAR",n),SW:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SW",n),AN:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.AN",n),MOV:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.MOV",n),FA:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.FA",n),BVT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BVT",n),LVT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LVT",n),TVT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TVT",n),CVT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CVT",n),BST:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BST",n),LST:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LST",n),TST:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TST",n),CST:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CST",n),BPT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BPT",n),LPT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LPT",n),TPT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TPT",n),CPT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CPT",n),BIT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BIT",n),LIT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LIT",n),TIT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TIT",n),CIT:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CIT",n),CHO:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CHO",n),SCH:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.SCH",n),WCH:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.WCH",n),NCH:a(i("DiceTable"),"Table").$from_i18n("BeginningIdol.tables.NCH",n),GCH:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.GCH",n),PCH:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.PCH",n),LUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.LUR",n),SUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.SUR",n),WUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.WUR",n),NUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.NUR",n),GUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.GUR",n),BUR:i("D6TwiceTable").$from_i18n("BeginningIdol.tables.BUR",n),ACE:a(i("DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.ACE",n),ACT:this.$translate_accessories_table(n),MS:i("MySkillNameTable").$new(n),RE:i("RandomEventTable").$new(n),SH:i("D66WithAbnormality").$from_i18n("BeginningIdol.tables.SH",l,n),MO:i("D66WithAbnormality").$from_i18n("BeginningIdol.tables.MO",l,n),SEA:i("D66WithAbnormality").$from_i18n("BeginningIdol.tables.SEA",l,n),SPA:i("D66WithAbnormality").$from_i18n("BeginningIdol.tables.SPA",l,n),LN:i("TableWithAbnormality").$from_i18n("BeginningIdol.tables.LN",l,n),SGT:i("SkillGetTable").$from_i18n("BeginningIdol.tables.SGT",b,n),RS:i("SkillGetTable").$from_i18n("BeginningIdol.tables.RS",b,n)})},1),E(C[0],"TABLES",T.$translate_tables("ja_jp")),E(C[0],"BAD_STATUS_TABLE",B("BadStatusTable").$new("ja_jp")),E(C[0],"LOCAL_WORK_TABLE",T.$translate_local_work_table("ja_jp")),E(C[0],"ITEM_TABLE",B("ItemTable").$new("ja_jp")),E(C[0],"SKILL_TABLE",T.$translate_skill_table("ja_jp")),T.$register_prefix(B("TABLES").$keys())},Opal.modules["bcdice/game_system/BeginningIdol"]=function(e){var x,C,$,n,u,o,D,d,S,t=[],r=e.nil,a=e.$$$,y=e.module,v=e.klass,I=e.const_set,k=e.send2,H=e.find_super,A=e.def,R=e.eqeq,m=e.truthy,P=e.rb_le,E=e.rb_ge,p=e.alias,V=e.rb_gt,z=e.rb_lt,L=e.rb_plus,U=e.send,j=e.rb_minus,q=e.hash2,w=e.neqeq;return e.top.$require("bcdice/game_system/beginning_idol/table"),x=t,C=S=[y(t[0],"BCDice")].concat(x),D=[y(S[0],"GameSystem")].concat(C),d=e.$r(D),$=D,u=[n=v(D[0],d("Base"),"BeginningIdol")].concat($),o=e.$r(u),n.$$prototype.randomizer=r,I(u[0],"ID","BeginningIdol"),I(u[0],"NAME","\u30d3\u30ae\u30cb\u30f3\u30b0\u30a2\u30a4\u30c9\u30eb"),I(u[0],"SORT_KEY","\u3072\u304d\u306b\u3093\u304f\u3042\u3044\u3068\u308b"),I(u[0],"HELP_MESSAGE","\u30fb\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3000[r]PDn[+m/-m](r\uff1a\u5834\u306b\u6b8b\u3063\u305f\u51fa\u76ee\u3000n\uff1a\u632f\u308b\u6570\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u30ef\u30fc\u30eb\u30c9\u30bb\u30c3\u30c6\u30a3\u30f3\u30b0\u4ed5\u4e8b\u8868\u3000BWT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LWT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\n\u3000TWT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CWT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\u3000LO[n]\uff1a\u5730\u65b9\u30a2\u30a4\u30c9\u30eb(n\uff1a\u30c1\u30e3\u30f3\u30b9)\n\u3000SU\uff1a\u60c5\u71b1\u306e\u590f\u3000WI\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\u3000NA\uff1a\u5927\u81ea\u7136\u3000GA\uff1a\u5973\u5b66\u5712\u3000BA\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\u4ed5\u4e8b\u8868\u3000WT\u3000VA\uff1a\u30d0\u30e9\u30a8\u30c6\u30a3\u3000MU\uff1a\u97f3\u697d\u95a2\u4fc2\u3000DR\uff1a\u30c9\u30e9\u30de\u95a2\u4fc2\n\u3000VI\uff1a\u30d3\u30b8\u30e5\u30a2\u30eb\u95a2\u4fc2\u3000SP\uff1a\u30b9\u30dd\u30fc\u30c4\u3000CHR\uff1a\u30af\u30ea\u30b9\u30de\u30b9\u3000PAR\uff1a\u30d1\u30fc\u30c8\u30ca\u30fc\u95a2\u4fc2\n\u3000SW\uff1a\u304a\u83d3\u5b50\u3000AN\uff1a\u52d5\u7269\u3000MOV\uff1a\u6620\u753b\u3000FA\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\n\u30fb\u30e9\u30f3\u30c0\u30e0\u30a4\u30d9\u30f3\u30c8\u3000RE\n\u30fb\u30cf\u30d7\u30cb\u30f3\u30b0\u8868\u3000HA\n\u30fb\u7279\u6280\u30ea\u30b9\u30c8\u3000AT[n](n\uff1a\u5206\u91ceNo.)\n\u30fb\u30a2\u30a4\u30c9\u30eb\u30b9\u30ad\u30eb\u4fee\u5f97\u8868\u3000SGT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RS\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u5909\u8abf\u3000BT[n](n\uff1a\u767a\u751f\u6570)\n\u30fb\u30a2\u30a4\u30c6\u30e0\u3000IT[n](n\uff1a\u7372\u5f97\u6570)\n\u30fb\u30a2\u30af\u30bb\u30b5\u30ea\u30fc\u3000ACT\uff1a\u7a2e\u5225\u6c7a\u5b9a\u3000ACB\uff1a\u30d6\u30e9\u30f3\u30c9\u6c7a\u5b9a\u3000ACE\uff1a\u52b9\u679c\u8868\n\u30fb\u8863\u88c5\u3000DT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RC\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\u3000FC:\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3\u30b9\u30bf\u30fc\u30ba\n\u30fb\u7121\u8336\u3076\u308a\u8868\u3000LUR\uff1a\u5730\u65b9\u30a2\u30a4\u30c9\u30eb\u3000SUR\uff1a\u60c5\u71b1\u306e\u590f\u3000WUR\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\n\u3000NUR\uff1a\u5927\u81ea\u7136\u3000GUR\uff1a\u5973\u5b66\u5712\u3000BUR\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\u30bb\u30f3\u30bf\u30fc\u30eb\u30fc\u30eb\u3000HW\uff1a\u5411\u304b\u3044\u98a8\u30b7\u30fc\u30f3\u8868\u3000FL\uff1a\u99c6\u3051\u51fa\u3057\u30b7\u30fc\u30f3\u8868\u3000LN\uff1a\u5b64\u72ec\u8868\n\u3000\u30de\u30a4\u30b9\u30ad\u30eb\u3010MS\uff1a\u540d\u524d\u6c7a\u5b9a\u3000MSE\uff1a\u52b9\u679c\u8868\u3011\u3000\u6f14\u51fa\u8868\u3010ST\u3000FST\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\u3011\n\u30fb\u5408\u5bbf\u30eb\u30fc\u30eb\u3000\u6563\u7b56\u8868\u3010SH\uff1a\u30b7\u30e7\u30c3\u30d4\u30f3\u30b0\u30e2\u30fc\u30eb\u3000MO\uff1a\u5c71\u3000SEA\uff1a\u6d77\u3000SPA\uff1a\u6e29\u6cc9\u8857\u3011\n\u3000TN\uff1a\u591c\u8a9e\u308a\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\u8868\u3000\u6210\u9577\u8868\u3010CG\uff1a\u30b3\u30e2\u30f3\u3000GG\uff1a\u30b4\u30fc\u30eb\u30c9\u3011\n\u30fb\u30b5\u30d3\u8868\u3000CHO\u3000SCH\uff1a\u60c5\u71b1\u306e\u590f\u3000WCH\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\u3000NCH\uff1a\u5927\u81ea\u7136\n\u3000GCH\uff1a\u5973\u6027\u5411\u3051\u3000PCH\uff1a\u529b\u5f37\u3044\n\u30fb\u30ad\u30e3\u30e9\u7a7a\u767d\u8868\u3000CBT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RCB\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u8da3\u5473\u7a7a\u767d\u8868\u3000HBT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RHB\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u30de\u30b9\u30b3\u30c3\u30c8\u66b4\u8d70\u8868\u3000RU\n\u30fb\u30a2\u30a4\u30c9\u30eb\u71b1\u6e6f\u98a8\u5442\u3000nC\uff1a\u30d0\u30fc\u30b9\u30c8\u30bf\u30a4\u30e0(n\uff1a\u6e29\u5ea6)\u3000BU\uff1a\u30d0\u30fc\u30b9\u30c8\u8868\n\u30fb\u653b\u6483\u3000n[S]A[r][+m/-m](n\uff1a\u632f\u308b\u6570\u3000S\uff1a\u5931\u6557\u3057\u306a\u3044\u3000r\uff1a\u53d6\u308a\u9664\u304f\u51fa\u76ee\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u304b\u3093\u305f\u3093\u30d1\u30fc\u30bd\u30f3\u8868\u3000SIP\n\u30fb\u4f1a\u5834\u8868\n\u3000BVT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LVT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TVT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CVT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u5834\u6240\u8868\n\u3000BST\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LST\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TST\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CST\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u7a2e\u5225\u6c7a\u5b9a\u8868\n\u3000BPT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LPT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TPT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CPT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u9053\u5177\u8868\n\u3000BIT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LIT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TIT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CIT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n[]\u5185\u306f\u7701\u7565\u53ef\u3000D66\u5165\u308c\u66ff\u3048\u3042\u308a\n"),n.$register_prefix(o("SKILL_TABLE").$prefixes(),"IT","BT","\\d{2}C","\\d+S?A","[1-7]*PD"),A(n,"$initialize",function c(s){var b=this;return delete c.$$p,k(b,H(b,"initialize",c,!1,!0),"initialize",[s],null),b.sort_add_dice=!0,b.d66_sort_type=a(o("D66SortType"),"ASC")},1),A(n,"$result_nd6",function(s,l,b,g,M){var N=this;return R(M,"?")||!R(g,">=")?r:m(P(l,2))?o("Result").$fumble(N.$translate("BeginningIdol.fumble")):m(E(l,12))?o("Result").$critical(N.$translate("BeginningIdol.special")):m(E(s,M))?o("Result").$success(N.$translate("success")):o("Result").$failure(N.$translate("failure"))},5),p(n,"check_2D6","check_nD6"),A(n,"$eval_game_system_specific_command",function(s){var b,g,M,N,F,Y,K,l=this;return m(b=m(g=m(M=m(N=m(F=m(Y=m(K=l.$roll_attack(s))?K:l.$roll_burst(s))?Y:l.$roll_performance(s))?F:a(l.$class(),"SKILL_TABLE").$roll_command(l.randomizer,s))?N:a(l.$class(),"ITEM_TABLE").$roll_command(l.randomizer,s))?M:a(l.$class(),"BAD_STATUS_TABLE").$roll_command(l.randomizer,s))?g:a(l.$class(),"LOCAL_WORK_TABLE").$roll_command(l.randomizer,s))?b:l.$roll_tables(s,a(l.$class(),"TABLES"))},1),n.$private(),A(n,"$roll_burst",function(s){var l=this,b=r,g=r,M=r,N=r,F=r,Y=r;return b=/^(\d{2})C$/.$match(s),!m(b)||(g=b["$[]"](1).$to_i(),m(z(g,45))||m(V(g,55)))?r:(M=m(P(g,49))?3:m(P(g,52))?4:m(P(g,54))?5:6,N=l.randomizer.$roll_barabara(M,6).$sort(),F=L(N.$sum(),g),Y=m(E(F,80))?l.$translate("BeginningIdol.burst.burst"):m(E(F,75))?l.$translate("BeginningIdol.burst.critical_success"):m(E(F,65))?l.$translate("BeginningIdol.burst.success"):l.$translate("failure"),l.$translate("BeginningIdol.burst.name")+" \uff1e "+g+"+["+N.$join(",")+"] \uff1e "+F+" \uff1e "+Y)},1),A(n,"$roll_attack",function(s){var l=this,b=r,g=r,M=r,N=r,F=r,Y=r,K=r,X=r,J=r,O=r;return b=/^(\d+)(S?)A([1-6]*)([+\-]\d+)?$/.$match(s),!m(b)||(g=b["$[]"](1).$to_i(),m(P(g,0)))?r:(M=b["$[]"](2)["$empty?"]()["$!"](),N=U(b["$[]"](3).$each_char(),"map",[],"to_i".$to_proc()),F=b["$[]"](4).$to_i(),Y=o("Format").$modifier(F),X=(K=l.randomizer.$roll_barabara(g,6).$sort()).$join(","),K=j(K,N),J=l.$translate("BeginningIdol.attack.name")+" \uff1e ["+X+"]"+Y+" \uff1e ",R(K.$count(),g)||m(K["$empty?"]())||(J=L(J,"["+K.$join(",")+"]"+Y+" \uff1e ")),m(M)||R(K.$count(),K.$uniq().$count())?(O=[L(K.$sum(),F.$to_i()),0].$max(),J=L(J,l.$format(l.$translate("BeginningIdol.attack.damage"),q(["total"],{total:O})))):J=L(J,l.$translate("failure")),J)},1),A(n,"$roll_performance",function(s){var l=this,b=r,g=r,M=r,N=r,F=r,Y=r,K=r,X=r,J=r;return b=/^([1-7]*)PD(\d+)([+\-]\d+)?$/.$match(s),!m(b)||(g=b["$[]"](2).$to_i(),m(P(g,0)))?r:(M=U(b["$[]"](1).$chars(),"map",[],"to_i".$to_proc()).$sort(),N=b["$[]"](3).$to_i(),F=l.randomizer.$roll_barabara(g,6).$sort(),Y=L(F,M).$sort(),K=l.$select_uniqs(Y),X=m(M["$empty?"]())?l.$translate("BeginningIdol.PD.paformance"):l.$translate("BeginningIdol.PD.symphony"),J=m(M["$empty?"]())?l.$result_performance(K,N,Y):l.$result_symphony(K,N),[X,l.$format_dice_list(F,M,N),J].$join(" \uff1e "))},1),A(n,"$select_uniqs",function(s){return U(U(U(s,"group_by",[],"itself".$to_proc()).$to_a(),"select",[],function(b,g){return null==b&&(b=r),null==g&&(g=r),g.$size()["$=="](1)},2),"map",[],function(b,g){return null==b&&(b=r),null==g&&(g=r),b},2).$sort()},1),A(n,"$format_dice_list",function(s,l,b){return m(l["$empty?"]())?"["+s.$join(",")+"]"+o("Format").$modifier(b):"["+s.$join(",")+"],["+l.$join(",")+"]"+o("Format").$modifier(b)},3),A(n,"$result_performance",function(s,l,b){var g=this;return m(s["$empty?"]())?g.$format(g.$translate("BeginningIdol.PD.miracle"),q(["value"],{value:L(l,10)})):R(s,[1,2,3,4,5,6])?g.$format(g.$translate("BeginningIdol.PD.perfect_miracle"),q(["value"],{value:L(l,30)})):w(s.$size(),b.$size())?"["+s.$join(",")+"]"+o("Format").$modifier(l)+" \uff1e "+L(s.$sum(),l):L(s.$sum(),l).$to_s()},3),A(n,"$result_symphony",function(s,l){var b=this,g=r;return m(s["$empty?"]())?b.$format(b.$translate("BeginningIdol.PD.miracle_synchro"),q(["value"],{value:L(l,15)})):R(s,[1,2,3,4,5,6])?(g=b.$format(b.$translate("BeginningIdol.PD.perfect_miracle"),q(["value"],{value:L(l,30)})),"["+s.$join(",")+"]"+o("Format").$modifier(l)+" \uff1e "+g):"["+s.$join(",")+"]"+o("Format").$modifier(l)+" \uff1e "+L(s.$sum(),l)},2)},Opal.queue(function(e){var R,p,q,w,G,x,z,L,P,t=[],a=e.module,y=e.klass,v=e.const_set,I=e.send2,k=e.find_super,H=e.def;return e.top.$require("bcdice/game_system/BeginningIdol"),R=t,p=P=[a(t[0],"BCDice")].concat(R),z=[a(P[0],"GameSystem")].concat(p),L=e.$r(z),q=z,G=[w=y(z[0],L("BeginningIdol"),"BeginningIdol_Korean")].concat(q),x=e.$r(G),v(G[0],"ID","BeginningIdol:Korean"),v(G[0],"NAME","\ube44\uae30\ub2dd \uc544\uc774\ub3cc"),v(G[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ube44\uae30\ub2dd \uc544\uc774\ub3cc"),v(G[0],"HELP_MESSAGE","\u30fb\ud37c\ud3ec\uba3c\uc2a4\u3000[r]PDn[+m/-m](r\uff1a\ub0a8\uc740 \uc8fc\uc0ac\uc704 \ub208\u3000n\uff1a\uad74\ub9b4 \uac2f\uc218\u3000m\uff1a\uc218\uc815\uce58)\n\u30fb\uc6d4\ub4dc\uc138\ud305 \uc5c5\ubb34\ud45c\u3000BWT\uff1a\ub300\ud615 \uc5f0\uc608 \ud504\ub85c\ub355\uc158\u3000LWT\uff1a\uc57d\uc18c \uc5f0\uc608 \ud504\ub85c\ub355\uc158\n\u3000TWT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CWT\uff1a\uc544\uc774\ub3cc \ubd80\u3000LO[n]\uff1a\ub85c\uceec \uc544\uc774\ub3cc(n\uff1a\ucc2c\uc2a4)\n\u3000SU\uff1a\uc5f4\uc815\uc758 \uc5ec\ub984\u3000WI\uff1a\uc628\uae30\uc758 \uaca8\uc6b8\u3000NA\uff1a\ub300\uc790\uc5f0\u3000GA\uff1a\u5973\u5b66\u5712\u3000BA\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\uc5c5\ubb34\ud45c\u3000WT\u3000VA\uff1a\ubc84\ub77c\uc774\uc5b4\ud2f0\u3000MU\uff1a\uc74c\uc545 \uad00\ub828\u3000DR\uff1a\ub4dc\ub77c\ub9c8 \uad00\ub828\n\u3000VI\uff1a\ube44\uc8fc\uc5bc \uad00\ub828\u3000SP\uff1a\uc2a4\ud3ec\uce20\u3000CHR\uff1a\ud06c\ub9ac\uc2a4\ub9c8\uc2a4\u3000PAR\uff1a\ud30c\ud2b8\ub108 \uad00\ub828\n\u30fb\ud2b9\uae30 \ub9ac\uc2a4\ud2b8\u3000AN\uff1a\u52d5\u7269\u3000MOV\uff1a\u6620\u753b\u3000FA\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\n\u30fb\u30cf\u30d7\u30cb\u30f3\u30b0\u8868\u3000HA\n\u30fb\u7279\u6280\u30ea\u30b9\u30c8\u3000AT[n](n\uff1a\u5206\u91ceNo.)\n\u30fb\uc544\uc774\ub3cc \uc2a4\ud0ac \uc2b5\ub4dd\ud45c\u3000SGT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RS\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\n\u30fb\ubcc0\uc870\u3000BT[n](n\uff1a\uc8fc\uc0ac\uc704\ub208)\n\u30fb\uc544\uc774\ud15c\u3000IT[n](n\uff1a\ubcf4\uc720 \uac2f\uc218)\n\u30fb\u30a2\u30af\u30bb\u30b5\u30ea\u30fc\u3000ACT\uff1a\u7a2e\u5225\u6c7a\u5b9a\u3000ACB\uff1a\u30d6\u30e9\u30f3\u30c9\u6c7a\u5b9a\u3000ACE\uff1a\u52b9\u679c\u8868\n\u30fb\uc758\uc0c1\u3000DT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RC\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\u3000FC:\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3\u30b9\u30bf\u30fc\u30ba\n\u30fb\uc5c9\ub9dd\uc9c4\ucc3d \ud45c\u3000LUR\uff1a\ub85c\uceec \uc544\uc774\ub3cc\u3000SUR\uff1a\uc815\uc5f4\uc758 \uc5ec\ub984\u3000WUR\uff1a\uc628\uae30\uc758 \uaca8\uc6b8\n\u3000NUR\uff1a\ub300\uc790\uc5f0\u3000GUR\uff1a\u5973\u5b66\u5712\u3000BUR\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\uc13c\ud130 \ub8f0\u3000HW\uff1a\uc5ed\ud48d \uc52c\ud45c\u3000FL\uff1a\uc2e0\ucd9c\ub0b4\uae30 \uc52c\ud45c\u3000LN\uff1a\uace0\ub3c5\ud45c\n\u3000\u30de\u30a4\u30b9\u30ad\u30eb\u3010MS\uff1a\u540d\u524d\u6c7a\u5b9a\u3000MSE\uff1a\u52b9\u679c\u8868\u3011\u3000\u6f14\u51fa\u8868\u3010ST\u3000FST\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\u3011\n\u30fb\ud569\uc219 \ub8f0\u3000\uc0b0\ucc45\ud45c \u3010SH\uff1a\uc1fc\ud551\ubab0\u3000MO\uff1a\uc0b0\u3000SEA\uff1a\ubc14\ub2e4\u3000SPA\uff1a\uc628\ucc9c\u3011\n\u3000TN\uff1a\uc57c\ubc24\uc758 \ub300\ud654 \uc2dc\uce04\uc5d0\uc774\uc158\u3000\uc131\uc7a5\ud45c \u3010CG\uff1a\ucee4\uba3c\u3000GG\uff1a\uace8\ub4dc\u3011\n\u30fb\uc791\uc0ac\ud45c\u3000CHO\u3000SCH\uff1a\uc815\uc5f4\uc758 \uc5ec\ub984\u3000WCH\uff1a\uc628\uae30\uc758 \uaca8\uc6b8\u3000NCH\uff1a\ub300\uc790\uc5f0\n\u30fb\uce90\ub9ad\ud130 \uacf5\ubc31\ud45c\u3000CBT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RCB\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\n\u30fb\ucde8\ubbf8 \uacf5\ubc31\ud45c\u3000HBT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RHB\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\n\u30fb\ub9c8\uc2a4\ucf54\ud2b8 \ud3ed\uc8fc\ud45c\u3000RU\n\u30fb\ubc84\uc2a4\ud2b8 \ud0c0\uc784\u3000nC\uff1a\u30d0\u30fc\u30b9\u30c8\u30bf\u30a4\u30e0(n\uff1a\uc628\ub3c4)\u3000BU\uff1a\u30d0\u30fc\u30b9\u30c8\u8868\n\u30fb\u653b\u6483\u3000n[S]A[r][+m/-m](n\uff1a\u632f\u308b\u6570\u3000S\uff1a\u5931\u6557\u3057\u306a\u3044\u3000r\uff1a\u53d6\u308a\u9664\u304f\u51fa\u76ee\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u304b\u3093\u305f\u3093\u30d1\u30fc\u30bd\u30f3\u8868\u3000SIP\n\u30fb\ud68c\uc7a5\ud45c\n\u3000BVT\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LVT\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TVT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CVT\uff1a\uc544\uc774\ub3cc \ubd80\n\u30fb\uc7a5\uc18c\ud45c\n\u3000BST\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LST\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TST\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CST\uff1a\uc544\uc774\ub3cc \ubd80\n\u30fb\ud504\ub808\uc154 \uc885\ub958 \uacb0\uc815\ud45c\n\u3000BPT\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LPT\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TPT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CPT\uff1a\uc544\uc774\ub3cc \ubd80\n\u30fb\ub3c4\uad6c\ud45c\n\u3000BIT\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LIT\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TIT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CIT\uff1a\uc544\uc774\ub3cc \ubd80\n[]\u5185\u306f\u7701\u7565\u53ef\u3000D66 \ub2e4\uc774\uc2a4\uac00 \uc874\uc7ac\n"),w.$register_prefix_from_super_class(),H(w,"$initialize",function W(S){var C=this;return delete W.$$p,I(C,k(C,"initialize",W,!1,!0),"initialize",[S],null),C.locale="ko_kr"},1),v(G[0],"TABLES",w.$translate_tables("ko_kr")),v(G[0],"BAD_STATUS_TABLE",x("BadStatusTable").$new("ko_kr")),v(G[0],"LOCAL_WORK_TABLE",w.$translate_local_work_table("ko_kr")),v(G[0],"ITEM_TABLE",x("ItemTable").$new("ko_kr")),v(G[0],"SKILL_TABLE",w.$translate_skill_table("ko_kr"))})}}]);