(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6103],{6103:(de,me,fe)=>{fe(9993),Opal.modules["bcdice/dice_table/table"]=function(r){var v,g,$,a,h,q,D,J,I,Y=[],l=r.nil,_=r.module,e=r.klass,k=r.hash2,L=r.defs,te=r.truthy,o=r.def,Q=r.rb_minus;return v=Y,g=I=[_(Y[0],"BCDice")].concat(v),$=J=[_(I[0],"DiceTable")].concat(g),h=[a=e(J[0],null,"Table")].concat($),q=r.$r(h),(D=a.$$prototype).times=D.sides=D.name=D.items=l,L(a,"$from_i18n",function(K,w){var f=l;return f=q("I18n").$t(K,k(["locale"],{locale:w})),this.$new(f["$[]"]("name"),f["$[]"]("type"),f["$[]"]("items"))},2),o(a,"$initialize",function(K,w,B){var f=this,d=l;return f.name=K,f.items=B.$freeze(),d=/(\d+)D(\d+)/i.$match(w),te(d)||f.$raise(q("ArgumentError"),"Unexpected table type: "+w),f.times=d["$[]"](1).$to_i(),f.sides=d["$[]"](2).$to_i()},3),o(a,"$roll",function(K){var B,w=this;return B=K.$roll_sum(w.times,w.sides),w.$choice(B)},1),o(a,"$choice",function(K){var B,w=this;return B=Q(K,w.times),q("RollResult").$new(w.name,K,w.items["$[]"](B))},1)},Opal.modules["bcdice/dice_table/d66_table"]=function(r){var F,M,q,D,P,K,w,$,W,Y=[],l=r.nil,_=r.$$$,e=r.module,k=r.klass,L=r.hash2,te=r.defs,o=r.def,Q=r.eqeqeq,O=r.rb_plus,v=r.rb_times,z=r.truthy;return F=Y,M=W=[e(Y[0],"BCDice")].concat(F),q=$=[e(W[0],"DiceTable")].concat(M),P=[D=k($[0],null,"D66Table")].concat(q),K=r.$r(P),(w=D.$$prototype).sort_type=w.items=w.name=l,te(D,"$from_i18n",function(f,d){var x,s=l;return s=K("I18n").$t(f,L(["locale"],{locale:d})),x=K("D66SortType").$const_get(s["$[]"]("d66_sort_type")),this.$new(s["$[]"]("name"),x,s["$[]"]("items"))},2),o(D,"$initialize",function(f,d,A){var s=this;return s.name=f,s.sort_type=d,s.items=A.$freeze()},3),o(D,"$roll",function(f){var d=this,A=l,s=l,x=l,m=l;return A=f.$roll_barabara(2,6),Q(_(K("D66SortType"),"ASC"),s=d.sort_type)?A["$sort!"]():Q(_(K("D66SortType"),"DESC"),s)&&A["$sort!"]()["$reverse!"](),x=O(v(A["$[]"](0),10),A["$[]"](1)),m=z(s=d.items["$[]"](x))?s:d.items["$[]"](x.$to_s()),z(m["$respond_to?"]("roll"))&&(m=m.$roll(f)),K("RollResult").$new(d.name,x,m)},1),o(D,"$choice",function(f){return K("RollResult").$new(this.name,f,this.items["$[]"](f))},1)},Opal.modules["bcdice/arithmetic/node"]=function(r){var g,R,q,f,d,P,K,a,J,Y=[],l=r.nil,_=r.$$$,e=r.module,k=r.klass,L=r.def,te=r.send2,o=r.find_super,Q=r.eqeq,O=r.const_set,v=r.eqeqeq,z=r.rb_divide,I=r.alias;return g=Y,R=J=[e(Y[0],"BCDice")].concat(g),q=a=[e(J[0],"Arithmetic")].concat(R),P=[e(a[0],"Node")].concat(q),K=r.$r(P),(d=(f=k(P[0],null,"BinaryOp")).$$prototype).lhs=d.rhs=d.op=l,L(f,"$initialize",function(s,x,m){var S=this;return S.lhs=s,S.op=x,S.rhs=m},3),L(f,"$eval",function(s){var S,x=this,m=l;return m=x.lhs.$eval(s),S=x.rhs.$eval(s),m.$send(x.op,S)},1),L(f,"$output",function(){var s=this;return""+s.lhs.$output()+s.op+s.rhs.$output()},0),L(f,"$s_exp",function(){var s=this;return"("+s.$op_for_s_exp()+" "+s.lhs.$s_exp()+" "+s.rhs.$s_exp()+")"},0),L(f,"$op_for_s_exp",function(){return this.op},0),function(w,B,f){var d=k(w,B,"DivideBase"),A=[d].concat(f),s=r.$r(A),x=d.$$prototype;x.lhs=x.rhs=x.op=l,L(d,"$initialize",function m(S,V){return delete m.$$p,te(this,o(this,"initialize",m,!1,!0),"initialize",[S,"/",V],null)},2),L(d,"$eval",function(S){var $e,ne,V=this;return $e=V.lhs.$eval(S),ne=V.rhs.$eval(S),Q(ne,0)&&V.$raise(s("ZeroDivisionError")),V.$divide_and_round($e,ne,S)},1),L(d,"$output",function m(){var S=m.$$p||l,V=this;return delete m.$$p,""+te(V,o(V,"output",m,!1,!0),"output",[],S)+V.$rounding_method()},0),d.$private(),L(d,"$rounding_method",function(){return _(this.$class(),"ROUNDING_METHOD")},0),L(d,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()},0),L(d,"$divide_and_round",function(S,V,$e){return this.$raise(s("NotImplementedError"))},3)}(P[0],K("BinaryOp"),P),function(w,B,f){var d=k(w,B,"DivideWithGameSystemDefault"),A=[d].concat(f),s=r.$r(A);O(A[0],"ROUNDING_METHOD",""),d.$private(),L(d,"$divide_and_round",function(m,S,V){var $e;return v(_(s("RoundType"),"CEIL"),$e=V)?z(m.$to_f(),S).$ceil():v(_(s("RoundType"),"ROUND"),$e)?z(m.$to_f(),S).$round():z(m,S).$floor()},3)}(P[0],K("DivideBase"),P),function(w,B,f){var d=k(w,B,"DivideWithCeil"),A=[d].concat(f);O(A[0],"ROUNDING_METHOD","C"),d.$private(),L(d,"$divide_and_round",function(x,m,S){return z(x.$to_f(),m).$ceil()},3)}(P[0],K("DivideBase"),P),function(w,B,f){var d=k(w,B,"DivideWithRound"),A=[d].concat(f);O(A[0],"ROUNDING_METHOD","R"),d.$private(),L(d,"$divide_and_round",function(x,m,S){return z(x.$to_f(),m).$round()},3)}(P[0],K("DivideBase"),P),function(w,B,f){var d=k(w,B,"DivideWithFloor"),A=[d].concat(f);O(A[0],"ROUNDING_METHOD","F"),d.$private(),L(d,"$divide_and_round",function(x,m,S){return z(x,m).$to_i()},3)}(P[0],K("DivideBase"),P),function(w,B){var f=k(w,null,"Negative");f.$$prototype.body=l,L(f,"$initialize",function(s){return this.body=s},1),L(f,"$eval",function(s){return this.body.$eval(s)["$-@"]()},1),L(f,"$output",function(){return"-"+this.body.$output()},0),L(f,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"},0)}(P[0]),function(w,B){var f=k(w,null,"Parenthesis");f.$$prototype.expr=l,L(f,"$initialize",function(s){return this.expr=s},1),L(f,"$eval",function(s){return this.expr.$eval(s)},1),L(f,"$output",function(){return"("+this.expr.$output()+")"},0),L(f,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"},0)}(P[0]),function(w,B){var f=k(w,null,"Number");return f.$$prototype.value=l,L(f,"$initialize",function(s){return this.value=s},1),L(f,"$eval",function(s){return this.value},1),L(f,"$output",function(){return this.value.$to_s()},0),I(f,"s_exp","output")}(P[0])},Opal.modules["racc/parser"]=function(r){var w,f,d,l=[],_=r.$r(l),e=r.nil,k=r.$$$,L=r.module,te=r.klass,o=r.truthy,Q=r.const_set,O=r.defs,v=r.gvars,z=r.rb_lt,I=r.send,F=r.to_a,g=r.rb_minus,W=r.def,J=r.to_ary,M=r.neqeq,R=r.rb_plus,$=r.eqeq,a=r.rb_ge,h=r.rb_gt,q=r.eqeqeq,D=r.rb_le,P=r.rb_times;return w=l,f=[L(l[0],"Racc")].concat(w),d=r.$r(f),te(f[0],d("StandardError"),"ParseError"),o(k("::","ParseError","skip_raise")?"constant":e)||Q(l[0],"ParseError",k(_("Racc"),"ParseError")),function(K,w){var m,S,V,$e,ne,d=[L(K,"Racc")].concat(w),A=r.$r(d);return o(A("Racc_No_Extensions","skip_raise")?"constant":e)||Q(d[0],"Racc_No_Extensions",!1),m=d,V=[S=te(d[0],null,"Parser")].concat(m),$e=r.$r(V),(ne=S.$$prototype).yydebug=ne.racc_debug_out=ne.racc_error_status=ne.racc_t=ne.racc_vstack=ne.racc_val=ne.racc_state=ne.racc_tstack=e,Q(V[0],"Racc_Runtime_Version","1.4.6"),Q(V[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),Q(V[0],"Racc_Runtime_Core_Version_R","1.4.6"),Q(V[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),Q(V[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),Q(V[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),Q(V[0],"Racc_Runtime_Core_Version",$e("Racc_Runtime_Core_Version_R")),Q(V[0],"Racc_Runtime_Core_Revision",$e("Racc_Runtime_Core_Revision_R")),Q(V[0],"Racc_Runtime_Type","ruby"),O($e("Parser"),"$racc_runtime_type",function(){return $e("Racc_Runtime_Type")},0),W(S,"$_racc_setup",function(){var p,E,t=this,N=e,n=e,j=e;return null==v.stderr&&(v.stderr=e),o(k(t.$class(),"Racc_debug_parser"))||(t.yydebug=!1),o(null!=(p=t.yydebug)&&p!==e?"instance-variable":e)||(t.yydebug=!1),o(t.yydebug)&&(o(null!=(E=t.racc_debug_out)&&E!==e?"instance-variable":e)||(t.racc_debug_out=v.stderr),t.racc_debug_out=o(N=t.racc_debug_out)?N:v.stderr),n=k(t.$class(),"Racc_arg"),o(z(n.$size(),14))&&(I(n,"[]=",F(j=[13,!0])),g(j.length,1)),n},0),W(S,"$_racc_init_sysvars",function(){var p=this;return p.racc_state=[0],p.racc_tstack=[],p.racc_vstack=[],p.racc_t=e,p.racc_val=e,p.racc_read_next=!0,p.racc_user_yyerror=!1,p.racc_error_status=0},0),W(S,"$do_parse",function(){return this.$__send__($e("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)},0),W(S,"$next_token",function(){return this.$raise($e("NotImplementedError"),this.$class()+"#next_token is not defined")},0),W(S,"$_racc_do_parse_rb",function(p,E){var t,n=this,j=e,ue=e,ce=e,ae=e,T=e,i=e,y=e,c=e;return t=J(p),j=null==t[0]?e:t[0],ue=null==t[1]?e:t[1],ce=null==t[2]?e:t[2],ae=null==t[3]?e:t[3],T=null==t[10]?e:t[10],n.$_racc_init_sysvars(),i=y=c=e,I(n,"catch",["racc_end_parse"],function u(){var G,C,b=null==u.$$s?this:u.$$s,ie=e;for(null==b.racc_state&&(b.racc_state=e),null==b.racc_read_next&&(b.racc_read_next=e),null==b.racc_t&&(b.racc_t=e),null==b.yydebug&&(b.yydebug=e),null==b.racc_val&&(b.racc_val=e);o(!0);)for(o(c=ae["$[]"](b.racc_state["$[]"](-1)))?(o(b.racc_read_next)&&M(b.racc_t,0)&&(C=b.$next_token(),G=J(C),i=null==G[0]?e:G[0],b.racc_val=null==G[1]?e:G[1],b.racc_t=o(i)?o(ie=T["$[]"](i))?ie:1:0,o(b.yydebug)&&b.$racc_read_token(b.racc_t,i,b.racc_val),b.racc_read_next=!1),c=R(c,b.racc_t),o(a(c,0))&&o(y=j["$[]"](c))&&$(ue["$[]"](c),b.racc_state["$[]"](-1))||(y=ce["$[]"](b.racc_state["$[]"](-1)))):y=ce["$[]"](b.racc_state["$[]"](-1));o(y=b.$_racc_evalact(y,p)););},{$$arity:0,$$s:n})},2),W(S,"$yyparse",function(p,E){return this.$__send__($e("Racc_YY_Parse_Method"),p,E,this.$_racc_setup(),!0)},2),W(S,"$_racc_yyparse_rb",function(p,E,t,N){var n,ce=e,ae=e,Z=e,T=e,y=e,c=e,u=e;return n=J(t),ce=null==n[0]?e:n[0],ae=null==n[1]?e:n[1],Z=null==n[2]?e:n[2],T=null==n[3]?e:n[3],y=null==n[10]?e:n[10],this.$_racc_init_sysvars(),c=e,u=e,I(this,"catch",["racc_end_parse"],function H(){var b=null==H.$$s?this:H.$$s;for(null==b.racc_state&&(b.racc_state=e);!o(u=T["$[]"](b.racc_state["$[]"](-1)));)for(;o(c=b.$_racc_evalact(Z["$[]"](b.racc_state["$[]"](-1)),t)););return I(p,"__send__",[E],function ie(re,_e){var X=null==ie.$$s?this:ie.$$s,U=e,le=e;for(null==X.racc_t&&(X.racc_t=e),null==X.racc_state&&(X.racc_state=e),null==X.racc_read_next&&(X.racc_read_next=e),null==re&&(re=e),null==_e&&(_e=e),X.racc_t=o(re)?o(U=y["$[]"](re))?U:1:0,X.racc_val=_e,X.racc_read_next=!1,u=R(u,X.racc_t),o(a(u,0))&&o(c=ce["$[]"](u))&&$(ae["$[]"](u),X.racc_state["$[]"](-1))||(c=Z["$[]"](X.racc_state["$[]"](-1)));o(c=X.$_racc_evalact(c,t)););for(;o(o(U=o(le=(u=T["$[]"](X.racc_state["$[]"](-1)))["$!"]())?le:X.racc_read_next["$!"]())?U:X.racc_t["$=="](0));)for(o(u)&&o(u=R(u,X.racc_t))&&o(a(u,0))&&o(c=ce["$[]"](u))&&$(ae["$[]"](u),X.racc_state["$[]"](-1))||(c=Z["$[]"](X.racc_state["$[]"](-1)));o(c=X.$_racc_evalact(c,t)););},{$$arity:2,$$s:b})},{$$arity:0,$$s:this})},4),W(S,"$_racc_evalact",function(p,E){var t,Z,n=this,j=e,ue=e,ae=e,T=e,i=e,y=e,c=e;if(j=null==(t=J(E))[0]?e:t[0],ue=null==t[1]?e:t[1],ae=null==t[3]?e:t[3],Z=null==t[11]?e:t[11],T=null==t[12]?e:t[12],o(h(p,0))&&o(z(p,Z)))o(h(n.racc_error_status,0))&&($(n.racc_t,1)||(n.racc_error_status=g(n.racc_error_status,1))),n.racc_vstack.$push(n.racc_val),n.racc_state.$push(p),n.racc_read_next=!0,o(n.yydebug)&&(n.racc_tstack.$push(n.racc_t),n.$racc_shift(n.racc_t,n.racc_tstack,n.racc_vstack));else if(o(z(p,0))&&o(h(p,T["$-@"]()))){if(i=I(n,"catch",["racc_jump"],function u(){var H=null==u.$$s?this:u.$$s;return null==H.racc_state&&(H.racc_state=e),H.racc_state.$push(H.$_racc_do_reduce(E,p)),!1},{$$arity:0,$$s:n}),o(i)){if(q(1,y=i))return n.racc_user_yyerror=!0,T["$-@"]();if(q(2,y))return Z;n.$raise("[Racc Bug] unknown jump code")}}else if($(p,Z))o(n.yydebug)&&n.$racc_accept(),n.$throw("racc_end_parse",n.racc_vstack["$[]"](0));else{if($(p,T["$-@"]())){for(q(0,y=n.racc_error_status)?o(E["$[]"](21))||n.$on_error(n.racc_t,n.racc_val,n.racc_vstack):q(3,y)&&($(n.racc_t,0)&&n.$throw("racc_end_parse",e),n.racc_read_next=!0),n.racc_user_yyerror=!1,n.racc_error_status=3;o(!0)&&!(o(c=ae["$[]"](n.racc_state["$[]"](-1)))&&(c=R(c,1),o(a(c,0))&&o(p=j["$[]"](c))&&$(ue["$[]"](c),n.racc_state["$[]"](-1))));)o(D(n.racc_state.$size(),1))&&n.$throw("racc_end_parse",e),n.racc_state.$pop(),n.racc_vstack.$pop(),o(n.yydebug)&&(n.racc_tstack.$pop(),n.$racc_e_pop(n.racc_state,n.racc_tstack,n.racc_vstack));return p}n.$raise("[Racc Bug] unknown action "+p.$inspect())}return o(n.yydebug)&&n.$racc_next_state(n.racc_state["$[]"](-1),n.racc_state),e},2),W(S,"$_racc_do_reduce",function(p,E){var t,T,y,b,ie,re,X,n=this,ue=e,ce=e,ae=e,Z=e,i=e,c=e,u=e,H=e,G=e,C=e,_e=e,oe=e,se=e,U=e;return ue=null==(t=J(p))[4]?e:t[4],ce=null==t[5]?e:t[5],ae=null==t[6]?e:t[6],Z=null==t[7]?e:t[7],T=null==t[8]?e:t[8],i=null==t[9]?e:t[9],y=null==t[13]?e:t[13],c=n.racc_state,u=n.racc_vstack,H=n.racc_tstack,G=P(E,-3),C=i["$[]"](G),b=i["$[]"](R(G,1)),ie=i["$[]"](R(G,2)),re=[],o(n.yydebug)&&(_e=H["$[]"](C["$-@"](),C)),oe=u["$[]"](C["$-@"](),C),o(n.yydebug)&&(se=[C["$-@"](),C,re],I(H,"[]=",F(se)),g(se.length,1)),se=[C["$-@"](),C,re],I(u,"[]=",F(se)),g(se.length,1),se=[C["$-@"](),C,re],I(c,"[]=",F(se)),g(se.length,1),o(y)?u.$push(n.$__send__(ie,oe,u,oe["$[]"](0))):u.$push(n.$__send__(ie,oe,u)),H.$push(b),o(n.yydebug)&&n.$racc_reduce(_e,b,H,u),X=g(b,T),o(G=Z["$[]"](X))&&(G=R(G,c["$[]"](-1)),o(a(G,0))&&o(U=ue["$[]"](G))&&$(ce["$[]"](G),X))?U:ae["$[]"](X)},2),W(S,"$on_error",function(p,E,t){var n,N=this;return N.$raise($e("ParseError"),N.$sprintf("\nparse error on value %s (%s)",E.$inspect(),o(n=N.$token_to_str(p))?n:"?"))},3),W(S,"$yyerror",function(){return this.$throw("racc_jump",1)},0),W(S,"$yyaccept",function(){return this.$throw("racc_jump",2)},0),W(S,"$yyerrok",function(){return this.racc_error_status=0},0),W(S,"$racc_read_token",function(p,E,t){var N=this;return N.racc_debug_out.$print("read    "),N.racc_debug_out.$print(E.$inspect(),"(",N.$racc_token2str(p),") "),N.racc_debug_out.$puts(t.$inspect()),N.racc_debug_out.$puts()},3),W(S,"$racc_shift",function(p,E,t){var N=this;return N.racc_debug_out.$puts("shift   "+N.$racc_token2str(p)),N.$racc_print_stacks(E,t),N.racc_debug_out.$puts()},3),W(S,"$racc_reduce",function(p,E,t,N){var n=this,j=e;return(j=n.racc_debug_out).$print("reduce "),o(p["$empty?"]())?j.$print(" <none>"):I(p,"each",[],function ue(ce){return null==ce&&(ce=e),j.$print(" ",(null==ue.$$s?this:ue.$$s).$racc_token2str(ce))},{$$arity:1,$$s:n}),j.$puts(" --\x3e "+n.$racc_token2str(E)),n.$racc_print_stacks(t,N),n.racc_debug_out.$puts()},4),W(S,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()},0),W(S,"$racc_e_pop",function(p,E,t){var N=this;return N.racc_debug_out.$puts("error recovering mode: pop token"),N.$racc_print_states(p),N.$racc_print_stacks(E,t),N.racc_debug_out.$puts()},3),W(S,"$racc_next_state",function(p,E){var t=this;return t.racc_debug_out.$puts("goto    "+p),t.$racc_print_states(E),t.racc_debug_out.$puts()},2),W(S,"$racc_print_stacks",function(p,E){var N=e;return(N=this.racc_debug_out).$print("        ["),I(p,"each_index",[],function n(j){return null==j&&(j=e),N.$print(" (",(null==n.$$s?this:n.$$s).$racc_token2str(p["$[]"](j))," ",E["$[]"](j).$inspect(),")")},{$$arity:1,$$s:this}),N.$puts(" ]")},2),W(S,"$racc_print_states",function(p){var t=e;return(t=this.racc_debug_out).$print("        ["),I(p,"each",[],function(n){return null==n&&(n=e),t.$print(" ",n)},1),t.$puts(" ]")},1),W(S,"$racc_token2str",function(p){var t;return o(t=k(this.$class(),"Racc_token_to_s_table")["$[]"](p))?t:this.$raise("[Racc Bug] can't convert token "+p+" to string")},1),W(S,"$token_to_str",function(p){return k(this.$class(),"Racc_token_to_s_table")["$[]"](p)},1)}(l[0],l)},Opal.modules.strscan=function(r){var F,g,W,J,M,Y=[],l=r.nil,e=r.def,k=r.truthy,L=r.eqeqeq,te=r.Opal,o=r.send,Q=r.to_a,O=r.rb_minus,v=r.alias;return F=Y,W=[g=(0,r.klass)(Y[0],null,"StringScanner")].concat(F),J=r.$r(W),(M=g.$$prototype).pos=M.string=M.working=M.matched=M.prev_pos=M.match=l,g.$attr_reader("pos","matched"),e(g,"$initialize",function($){var a=this;return a.string=$,a.pos=0,a.matched=l,a.working=$,a.match=[]},1),g.$attr_reader("string"),e(g,"$beginning_of_line?",function(){var $=this;return 0===$.pos||"\n"===$.string.charAt($.pos-1)},0),e(g,"$scan",function($){var a=this,h=($=a.$anchor($)).exec(a.working);return null==h?a.matched=l:"object"==typeof h?(a.prev_pos=a.pos,a.pos+=h[0].length,a.working=a.working.substring(h[0].length),a.matched=h[0],a.match=h,h[0]):"string"==typeof h?(a.pos+=h.length,a.working=a.working.substring(h.length),h):l},1),e(g,"$scan_until",function($){var a=this;$=a.$anchor($);for(var D,h=a.pos,q=a.working;;){if(D=$.exec(q),h+=1,q=q.substr(1),null!=D)return a.matched=a.string.substr(a.pos,h-a.pos-1+D[0].length),a.match=D,a.prev_pos=h-1,a.pos=h,a.working=q.substr(D[0].length),a.matched;if(0===q.length)return a.match=[],a.matched=l}},1),e(g,"$[]",function($){var h;if(k(this.match["$empty?"]()))return l;L(J("Symbol"),h=$)?$=$.$to_s():L(J("String"),h)||($=te["$coerce_to!"]($,J("Integer"),"to_int"));var q=this.match;return $<0&&($+=q.length),$<0||$>=q.length||null==q[$]?l:q[$]},1),e(g,"$check",function($){var a=this,h=($=a.$anchor($)).exec(a.working);return a.matched=null==h?l:h[0]},1),e(g,"$check_until",function($){var a=this,h=a.prev_pos,q=a.pos,D=a.$scan_until($);return D!==l&&(a.matched=D.substr(-1),a.working=a.string.substr(q)),a.prev_pos=h,a.pos=q,D},1),e(g,"$peek",function($){return this.working.substring(0,$)},1),e(g,"$eos?",function(){return 0===this.working.length},0),e(g,"$exist?",function($){var h=$.exec(this.working);return null==h?l:0==h.index?0:h.index+1},1),e(g,"$skip",function($){var a=this,h=($=a.$anchor($)).exec(a.working);if(null==h)return a.match=[],a.matched=l;var q=h[0],D=q.length;return a.matched=q,a.match=h,a.prev_pos=a.pos,a.pos+=D,a.working=a.working.substring(D),D},1),e(g,"$skip_until",function($){var h=this.$scan_until($);return h===l?l:(this.matched=h.substr(-1),h.length)},1),e(g,"$get_byte",function(){var $=this,a=l;return $.pos<$.string.length?($.prev_pos=$.pos,$.pos+=1,a=$.matched=$.working.substring(0,1),$.working=$.working.substring(1)):$.matched=l,a},0),e(g,"$match?",function($){var a=this,h=($=a.$anchor($)).exec(a.working);return null==h?l:(a.prev_pos=a.pos,h[0].length)},1),e(g,"$pos=",function($){var a=this;return $<0&&($+=a.string.$length()),a.pos=$,a.working=a.string.slice($)},1),e(g,"$matched_size",function(){return this.matched===l?l:this.matched.length},0),e(g,"$post_match",function(){var $=this;return $.matched===l?l:$.string.substr($.pos)},0),e(g,"$pre_match",function(){var $=this;return $.matched===l?l:$.string.substr(0,$.prev_pos)},0),e(g,"$reset",function(){var $=this;return $.working=$.string,$.matched=l,$.pos=0},0),e(g,"$rest",function(){return this.working},0),e(g,"$rest?",function(){return 0!==this.working.length},0),e(g,"$rest_size",function(){return this.$rest().$size()},0),e(g,"$terminate",function(){var a,$=this;return $.match=l,a=[$.string.$length()],o($,"pos=",Q(a)),a[O(a.length,1)]},0),e(g,"$unscan",function(){var $=this;return $.pos=$.prev_pos,$.prev_pos=l,$.match=l,$},0),v(g,"bol?","beginning_of_line?"),v(g,"getch","get_byte"),g.$private(),e(g,"$anchor",function($){var a=$.toString().match(/\/([^\/]+)$/);return a=a?a[1]:void 0,new RegExp("^(?:"+$.source+")",a)},1)},Opal.modules["bcdice/normalize"]=function(r){var o,z,O,Y=[],l=r.nil,_=r.module,e=r.eqeqeq,k=r.def,L=r.eqeq;return o=Y,O=[_(Y[0],"BCDice")].concat(o),(z=_(O[0],"Normalize")).$module_function(),k(z,"$comparison_operator",function(F){var g;return e(/<=|=</,g=F)?"<=":e(/>=|=>/,g)?">=":e(/<>|!=|=!/,g)?"!=":e(/</,g)?"<":e(/>/,g)?">":e(/=/,g)?"==":l},1),k(z,"$target_number",function(F){return L(F,"?")?F:F.$to_i()},1)},Opal.modules["bcdice/common_command/lexer"]=function(r){var v,g,$,a,h,q,J,I,Y=r.top,l=[],_=r.nil,e=r.module,k=r.klass,L=r.const_set,te=r.hash2,o=r.truthy,Q=r.def;return Y.$require("strscan"),Y.$require("bcdice/normalize"),v=l,g=I=[e(l[0],"BCDice")].concat(v),$=J=[e(I[0],"CommonCommand")].concat(g),h=[a=k(J[0],null,"Lexer")].concat($),q=r.$r(h),a.$$prototype.scanner=_,L(h[0],"SYMBOLS",te(["+","-","*","/","(",")","[","]","?","@"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","[":"BRACKETL","]":"BRACKETR","?":"QUESTION","@":"AT"}).$freeze()),Q(a,"$initialize",function(K){var B;return K=o(B=K.$split(" ",2).$first())?B:"",this.scanner=q("StringScanner").$new(K)},1),Q(a,"$next_token",function(){var K=this,w=_,B=_,f=_,A=_;return o(K.scanner["$eos?"]())?[!1,"$"]:o(w=K.scanner.$scan(/\d+/))?["NUMBER",w.$to_i()]:o(B=K.scanner.$scan(/[<>!=]+/))?["CMP_OP",q("Normalize").$comparison_operator(B)]:(f=K.scanner.$getch().$upcase(),[o(A=q("SYMBOLS")["$[]"](f))?A:f.$to_sym(),f])},0),Q(a,"$source",function(){return this.scanner.$string()},0)},Opal.modules["bcdice/arithmetic/parser"]=function(r){var z,W,h,K,w,B,f,d,A,s,x,m,$e,q,D,P,M,R,F,Y=r.top,l=[],_=r.nil,e=r.$$$,k=r.module,L=r.klass,te=r.defs,o=r.def,Q=r.hash,O=r.const_set;return Y.$require("racc/parser.rb"),Y.$require("bcdice/common_command/lexer"),Y.$require("bcdice/arithmetic/node"),z=l,W=F=[k(l[0],"BCDice")].concat(z),M=[k(F[0],"Arithmetic")].concat(W),R=r.$r(M),h=M,D=[q=L(M[0],e(R("Racc"),"Parser"),"Parser")].concat(h),P=r.$r(D),q.$$prototype.lexer=_,te(q,"$parse",function(t){return this.$new().$parse(t)},1),o(q,"$parse",function(t){try{return this.lexer=e(e(P("BCDice"),"CommonCommand"),"Lexer").$new(t),this.$do_parse()}catch(n){if(!r.rescue(n,[P("ParseError")]))throw n;try{return _}finally{r.pop_exception()}}},1),q.$private(),o(q,"$next_token",function(){return this.lexer.$next_token()},0),K=[8,17,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,_,_,4,5,4,5,7,9,7,_,_,10,11,_,10,11,22,26,24,25,27],w=[0,9,4,2,2,0,0,4,4,0,5,4,7,18,18,5,5,7,7,5,10,7,11,19,19,10,10,11,11,10,12,11,13,_,_,12,12,13,13,12,1,13,_,_,16,16,_,1,1,16,21,21,21,21],B=[-2,40,-6,_,0,8,_,10,_,1,18,20,28,30,_,_,37,_,4,14,_,47,_,_,_,_,_,_],f=[-17,-17,-3,-6,-17,-17,-14,-17,-16,-17,-17,-17,-17,-17,-12,-13,-17,28,-1,-2,-4,-7,-15,-5,-8,-9,-10,-11],d=[14,15,23,1,18,19,_,_,20,21,16],A=[3,3,4,1,2,2,_,_,3,3,1],s=[_,3,-6,-4,-19,_],x=[_,_,2,3,_,6],m=[0,0,"racc_error",3,14,"_reduce_1",3,14,"_reduce_2",1,14,"_reduce_none",3,15,"_reduce_4",4,15,"_reduce_5",1,15,"_reduce_none",0,17,"_reduce_7",1,17,"_reduce_8",1,17,"_reduce_9",1,17,"_reduce_10",1,17,"_reduce_11",2,16,"_reduce_12",2,16,"_reduce_13",1,16,"_reduce_none",3,18,"_reduce_15",1,18,"_reduce_16"],$e=Q(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12),O(D[0],"Racc_arg",[K,w,f,B,d,A,x,s,13,m,$e,28,17,!0]),O(D[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","$start","add","mul","unary","round_type","term"]),O(D[0],"Racc_debug_parser",!1),o(q,"$_reduce_1",function(t,N,n){return e(e(P("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))},3),o(q,"$_reduce_2",function(t,N,n){return e(e(P("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))},3),o(q,"$_reduce_4",function(t,N,n){return e(e(P("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"*",t["$[]"](2))},3),o(q,"$_reduce_5",function(t,N,n){return t["$[]"](3).$new(t["$[]"](0),t["$[]"](2))},3),o(q,"$_reduce_7",function(t,N,n){return e(e(P("Arithmetic"),"Node"),"DivideWithGameSystemDefault")},3),o(q,"$_reduce_8",function(t,N,n){return e(e(P("Arithmetic"),"Node"),"DivideWithCeil")},3),o(q,"$_reduce_9",function(t,N,n){return e(e(P("Arithmetic"),"Node"),"DivideWithCeil")},3),o(q,"$_reduce_10",function(t,N,n){return e(e(P("Arithmetic"),"Node"),"DivideWithRound")},3),o(q,"$_reduce_11",function(t,N,n){return e(e(P("Arithmetic"),"Node"),"DivideWithFloor")},3),o(q,"$_reduce_12",function(t,N,n){return t["$[]"](1)},3),o(q,"$_reduce_13",function(t,N,n){return e(e(P("Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))},3),o(q,"$_reduce_15",function(t,N,n){return t["$[]"](1)},3),o(q,"$_reduce_16",function(t,N,n){return e(e(P("Arithmetic"),"Node"),"Number").$new(t["$[]"](0))},3),o(q,"$_reduce_none",function(t,N,n){return t["$[]"](0)},3)},Opal.modules["bcdice/arithmetic"]=function(r){var o,z,g,J,M,I,F,O,Y=r.top,l=[],_=r.nil,e=r.module,k=r.send,L=r.def;return Y.$require("bcdice/arithmetic/node"),Y.$require("bcdice/arithmetic/parser"),o=l,z=O=[e(l[0],"BCDice")].concat(o),F=[I=e(O[0],"Arithmetic")].concat(z),J=[g=r.get_singleton_class(I)].concat(F),M=r.$r(J),L(g,"$eval",function($,a){var h;try{return(h=M("Parser").$parse($))===_||null==h?_:k(h,"eval",[a])}catch(D){if(!r.rescue(D,[M("ZeroDivisionError")]))throw D;try{return _}finally{r.pop_exception()}}},2)},Opal.modules["bcdice/command/lexer"]=function(r){var z,W,a,h,q,D,P,M,F,Y=r.top,l=[],_=r.nil,e=r.module,k=r.klass,L=r.const_set,te=r.hash2,o=r.truthy,Q=r.send,O=r.def;return Y.$require("strscan"),Y.$require("bcdice/normalize"),z=l,W=F=[e(l[0],"BCDice")].concat(z),a=M=[e(F[0],"Command")].concat(W),q=[h=k(M[0],null,"Lexer")].concat(a),D=r.$r(q),(P=h.$$prototype).scanner=P.notations=_,L(q[0],"SYMBOLS",te(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),O(h,"$initialize",function(w,B){var f,d,s;return w=o(s=(d=(f=w)===_||null==f?_:Q(f,"split",[" ",2]))===_||null==d?_:Q(d,"first",[]))?s:"",this.scanner=D("StringScanner").$new(w),this.notations=Q(B,"map",[],function(m){return null==m&&(m=_),o(m["$is_a?"](D("String")))?D("Regexp").$new(m):m},1)},2),O(h,"$next_token",function(){try{var w=this,B=_,f=_,A=_,s=_;return o(w.scanner["$eos?"]())?[!1,"$"]:(Q(w.notations,"each",[],function x(m){var V,S=null==x.$$s?this:x.$$s;if(null==S.scanner&&(S.scanner=_),null==m&&(m=_),V=S.scanner.$scan(m),!o(V))return _;r.ret(["NOTATION",V])},{$$arity:1,$$s:w}),o(B=w.scanner.$scan(/\d+/))?["NUMBER",B.$to_i()]:o(f=w.scanner.$scan(/[<>!=]+/))?(f=D("Normalize").$comparison_operator(f),[o(f)?"CMP_OP":"ILLEGAL",f]):(A=w.scanner.$getch().$upcase(),[o(s=D("SYMBOLS")["$[]"](A))?s:A.$to_sym(),A]))}catch(x){if(x===r.returner)return x.$v;throw x}},0),O(h,"$source",function(){return this.scanner.$string()},0)},Opal.modules["bcdice/command/parsed"]=function(r){var Q,I,M,R,$,a,h,g,v,Y=[],l=r.nil,_=r.module,e=r.klass,k=r.def,L=r.truthy,te=r.eqeqeq;return Q=Y,I=v=[_(Y[0],"BCDice")].concat(Q),M=g=[_(v[0],"Command")].concat(I),$=[R=e(g[0],null,"Parsed")].concat(M),a=r.$r($),(h=R.$$prototype).question_target=h.critical=h.fumble=h.dollar=h.modify_number=h.target_number=h.prefix_number=h.command=h.suffix_number=h.cmp_op=l,R.$attr_accessor("command"),R.$attr_accessor("prefix_number"),R.$attr_accessor("suffix_number"),R.$attr_accessor("critical"),R.$attr_accessor("fumble"),R.$attr_accessor("dollar"),R.$attr_accessor("modify_number"),R.$attr_accessor("cmp_op"),R.$attr_accessor("target_number"),R.$attr_writer("question_target"),k(R,"$initialize",function(){var D=this;return D.prefix_number=l,D.suffix_number=l,D.critical=l,D.fumble=l,D.dollar=l,D.cmp_op=l,D.target_number=l,D.question_target=!1},0),k(R,"$question_target?",function(){return this.question_target},0),k(R,"$to_s",function(D){var A,P=this,K=l,w=l,B=l,f=l,d=l;return null==D&&(D="after_command"),K=L(P.critical)?"@"+P.critical:l,w=L(P.fumble)?"#"+P.fumble:l,B=L(P.dollar)?"$"+P.dollar:l,f=a("Format").$modifier(P.modify_number),d=L(P.question_target)?"?":P.target_number,te("after_command",A=D)?[P.prefix_number,P.command,P.suffix_number,K,w,B,f,P.cmp_op,d].$join():te("after_modify_number",A)?[P.prefix_number,P.command,P.suffix_number,f,K,w,B,P.cmp_op,d].$join():te("after_target_number",A)?[P.prefix_number,P.command,P.suffix_number,f,P.cmp_op,d,K,w,B].$join():l},-1)},Opal.modules["bcdice/command/parser"]=function(r){var a,P,A,S,V,$e,ne,ee,p,E,t,N,ue,s,x,m,Z,w,B,q,Y=r.top,l=[],_=r.$r(l),e=r.nil,k=r.$$$,L=r.klass,te=r.module,o=r.hash2,Q=r.send2,O=r.find_super,v=r.def,z=r.send,I=r.to_a,F=r.rb_minus,g=r.eqeq,W=r.hash,J=r.const_set,M=r.truthy,R=r.to_ary;return Y.$require("racc/parser.rb"),Y.$require("bcdice/arithmetic/node"),Y.$require("bcdice/command/lexer"),Y.$require("bcdice/command/parsed"),L(k(_("BCDice"),"Command"),k(_("Racc"),"Parser"),"Parser"),a=l,P=q=[te(l[0],"BCDice")].concat(a),w=[te(q[0],"Command")].concat(P),B=r.$r(w),A=w,x=[s=L(w[0],k(B("Racc"),"Parser"),"Parser")].concat(A),m=r.$r(x),(Z=s.$$prototype).notations=Z.lexer=Z.modifier=Z.suffix_number=Z.prefix_number=Z.need_suffix_number=Z.need_prefix_number=Z.critical=Z.fumble=Z.dollar=Z.allowed_cmp_op=Z.question_target=e,v(s,"$initialize",function T(i,y){var c,u,H,G,b=this;if(delete T.$$p,c=r.slice.call(arguments),null==(u=r.extract_kwargs(c)))u=o([],{});else if(!u.$$is_hash)throw r.ArgumentError.$new("expected kwargs");if(H=c,!r.hasOwnProperty.call(u.$$smap,"round_type"))throw r.ArgumentError.$new("missing keyword: round_type");return G=u.$$smap.round_type,Q(b,O(b,"initialize",T,!1,!0),"initialize",[],null),b.notations=H,b.round_type=G,b.prefix_number=!1,b.suffix_number=!1,b.need_prefix_number=!1,b.need_suffix_number=!1,b.modifier=!0,b.critical=!1,b.fumble=!1,b.dollar=!1,b.allowed_cmp_op=[e,">=",">","<=","<","==","!="],b.question_target=!1},-2),v(s,"$disable_modifier",function(){return this.modifier=!1,this},0),v(s,"$enable_prefix_number",function(){return this.prefix_number=!0,this},0),v(s,"$enable_suffix_number",function(){return this.suffix_number=!0,this},0),v(s,"$has_prefix_number",function(){var i=this;return i.prefix_number=!0,i.need_prefix_number=!0,i},0),v(s,"$has_suffix_number",function(){var i=this;return i.suffix_number=!0,i.need_suffix_number=!0,i},0),v(s,"$enable_critical",function(){return this.critical=!0,this},0),v(s,"$enable_fumble",function(){return this.fumble=!0,this},0),v(s,"$enable_dollar",function(){return this.dollar=!0,this},0),v(s,"$restrict_cmp_op_to",function(i){var y,u=this;return y=r.slice.call(arguments),u.allowed_cmp_op=y,u},-1),v(s,"$enable_question_target",function(){return this.question_target=!0,this},0),v(s,"$parse",function(i){var y=this;try{return y.lexer=m("Lexer").$new(i,y.notations),y.$do_parse()}catch(c){if(!r.rescue(c,[m("ParseError"),m("ZeroDivisionError")]))throw c;try{return e}finally{r.pop_exception()}}},1),s.$private(),v(s,"$parsed",function(i,y,c,u){return z(m("Parsed").$new(),"tap",[],function G(C){var b,ie,re,_e,oe,se,X=null==G.$$s?this:G.$$s,U=e;return null==X.round_type&&(X.round_type=e),null==C&&(C=e),U=[i["$[]"]("command")],z(C,"command=",I(U)),F(U.length,1),U=[(b=i["$[]"]("prefix"),b===e||null==b?e:z(b,"eval",[X.round_type]))],z(C,"prefix_number=",I(U)),F(U.length,1),U=[(ie=i["$[]"]("suffix"),ie===e||null==ie?e:z(ie,"eval",[X.round_type]))],z(C,"suffix_number=",I(U)),F(U.length,1),U=[(re=y["$[]"]("critical"),re===e||null==re?e:z(re,"eval",[X.round_type]))],z(C,"critical=",I(U)),F(U.length,1),U=[(_e=y["$[]"]("fumble"),_e===e||null==_e?e:z(_e,"eval",[X.round_type]))],z(C,"fumble=",I(U)),F(U.length,1),U=[(oe=y["$[]"]("dollar"),oe===e||null==oe?e:z(oe,"eval",[X.round_type]))],z(C,"dollar=",I(U)),F(U.length,1),U=[c.$eval(X.round_type)],z(C,"modify_number=",I(U)),F(U.length,1),U=[u["$[]"]("cmp_op")],z(C,"cmp_op=",I(U)),F(U.length,1),g(u["$[]"]("target"),"?")?(z(C,"question_target=",I(U=[!0])),F(U.length,1),z(C,"target_number=",I(U=[0])),U[F(U.length,1)]):(z(C,"question_target=",I(U=[!1])),F(U.length,1),U=[(se=u["$[]"]("target"),se===e||null==se?e:z(se,"eval",[X.round_type]))],z(C,"target_number=",I(U)),U[F(U.length,1)])},{$$arity:1,$$s:this})},4),v(s,"$next_token",function(){return this.lexer.$next_token()},0),S=[6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,33,34,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,36,37,17,18,6,e,5,e,e,17,18,6,e,5,e,e,17,18,e,e,5,23,24,25,26,56,54,55,57],V=[0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,e,17,15,15,18,18,23,e,18,30,30,23,23,24,e,23,31,31,24,24,25,e,24,44,44,25,25,28,e,25,47,47,28,28,29,e,28,48,48,29,29,33,e,29,49,49,33,33,34,e,33,50,50,34,34,36,e,34,e,e,36,36,37,e,36,e,e,37,37,e,e,37,27,27,27,27,52,52,52,52],$e=[-2,4,16,-3,-1,11,e,33,13,35,23,30,1,e,28,40,e,37,44,e,e,-2,e,51,58,65,0,106,72,79,47,54,e,86,93,e,100,107,e,e,e,e,e,e,63,e,e,68,75,82,89,e,120,e,e,e,e,e],ne=[-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29],ee=[30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,e,e,21,47,48,40,51,52,49,50,44,46,3,e,e,e,13,e,e,e,e,e,e,e,32],p=[8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,e,e,4,8,8,5,7,7,8,8,9,5,6,e,e,e,6,e,e,e,e,e,e,e,6],E=[e,6,13,3,9,-1,27,-15,-10,-1,-38],t=[e,e,e,e,e,e,19,16,15,e,e],N=[0,0,"racc_error",4,20,"_reduce_1",4,20,"_reduce_2",3,20,"_reduce_3",3,21,"_reduce_4",2,21,"_reduce_5",2,21,"_reduce_6",1,21,"_reduce_7",0,22,"_reduce_8",3,22,"_reduce_9",3,22,"_reduce_10",3,22,"_reduce_11",2,23,"_reduce_12",2,23,"_reduce_13",3,23,"_reduce_14",3,23,"_reduce_15",0,24,"_reduce_16",2,24,"_reduce_17",2,24,"_reduce_18",3,28,"_reduce_19",3,28,"_reduce_20",1,28,"_reduce_none",3,27,"_reduce_22",4,27,"_reduce_23",1,27,"_reduce_none",0,29,"_reduce_25",1,29,"_reduce_26",1,29,"_reduce_27",1,29,"_reduce_28",1,29,"_reduce_29",2,26,"_reduce_30",2,26,"_reduce_31",1,26,"_reduce_none",3,25,"_reduce_33",1,25,"_reduce_34"],ue=W(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),J(x[0],"Racc_arg",[S,V,ne,$e,ee,p,t,E,19,N,ue,58,35,!0]),J(x[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),J(x[0],"Racc_debug_parser",!1),v(s,"$_reduce_1",function(i,y,c){var u,G=this;return M(G.modifier)||G.$raise(m("ParseError")),u=R(i),G.$parsed(null==u[0]?e:u[0],null==u[1]?e:u[1],null==u[2]?e:u[2],null==u[3]?e:u[3])},3),v(s,"$_reduce_2",function(i,y,c){var u,G=this;return M(G.modifier)||G.$raise(m("ParseError")),u=R(i),G.$parsed(null==u[0]?e:u[0],null==u[2]?e:u[2],null==u[1]?e:u[1],null==u[3]?e:u[3])},3),v(s,"$_reduce_3",function(i,y,c){var u,ie;return ie=null==(u=R(i))[2]?e:u[2],this.$parsed(null==u[0]?e:u[0],null==u[1]?e:u[1],k(k(m("Arithmetic"),"Node"),"Number").$new(0),ie)},3),v(s,"$_reduce_4",function(i,y,c){var u=this;return M(u.prefix_number)&&M(u.suffix_number)||u.$raise(m("ParseError")),o(["command","prefix","suffix"],{command:i["$[]"](1),prefix:i["$[]"](0),suffix:i["$[]"](2)})},3),v(s,"$_reduce_5",function(i,y,c){var u=this;return M(u.prefix_number)||u.$raise(m("ParseError")),M(u.need_suffix_number)&&u.$raise(m("ParseError")),o(["command","prefix"],{command:i["$[]"](1),prefix:i["$[]"](0)})},3),v(s,"$_reduce_6",function(i,y,c){var u=this;return M(u.suffix_number)||u.$raise(m("ParseError")),M(u.need_prefix_number)&&u.$raise(m("ParseError")),o(["command","suffix"],{command:i["$[]"](0),suffix:i["$[]"](1)})},3),v(s,"$_reduce_7",function(i,y,c){var u=this;return(M(u.need_prefix_number)||M(u.need_suffix_number))&&u.$raise(m("ParseError")),o(["command"],{command:i["$[]"](0)})},3),v(s,"$_reduce_8",function(i,y,c){return o([],{})},3),v(s,"$_reduce_9",function(i,y,c){var u,ie,re,C=e;return C=null==(u=R(i))[0]?e:u[0],ie=null==u[2]?e:u[2],M(this.critical)&&M(C["$[]"]("critical")["$nil?"]())||this.$raise(m("ParseError")),z(C,"[]=",I(re=["critical",ie])),F(re.length,1),C},3),v(s,"$_reduce_10",function(i,y,c){var u,ie,re,C=e;return C=null==(u=R(i))[0]?e:u[0],ie=null==u[2]?e:u[2],M(this.fumble)&&M(C["$[]"]("fumble")["$nil?"]())||this.$raise(m("ParseError")),z(C,"[]=",I(re=["fumble",ie])),F(re.length,1),C},3),v(s,"$_reduce_11",function(i,y,c){var u,ie,re,C=e;return C=null==(u=R(i))[0]?e:u[0],ie=null==u[2]?e:u[2],M(this.dollar)&&M(C["$[]"]("dollar")["$nil?"]())||this.$raise(m("ParseError")),z(C,"[]=",I(re=["dollar",ie])),F(re.length,1),C},3),v(s,"$_reduce_12",function(i,y,c){return i["$[]"](1)},3),v(s,"$_reduce_13",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"Negative").$new(i["$[]"](1))},3),v(s,"$_reduce_14",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"+",i["$[]"](2))},3),v(s,"$_reduce_15",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"-",i["$[]"](2))},3),v(s,"$_reduce_16",function(i,y,c){return M(this.allowed_cmp_op["$include?"](e))||this.$raise(m("ParseError")),o([],{})},3),v(s,"$_reduce_17",function(i,y,c){var u,C,b;return b=null==(u=R(i))[1]?e:u[1],M(this.allowed_cmp_op["$include?"](C=null==u[0]?e:u[0]))||this.$raise(m("ParseError")),o(["cmp_op","target"],{cmp_op:C,target:b})},3),v(s,"$_reduce_18",function(i,y,c){var H,u=this;return H=i["$[]"](0),M(u.question_target)||u.$raise(m("ParseError")),M(u.allowed_cmp_op["$include?"](H))||u.$raise(m("ParseError")),o(["cmp_op","target"],{cmp_op:H,target:"?"})},3),v(s,"$_reduce_19",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"+",i["$[]"](2))},3),v(s,"$_reduce_20",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"-",i["$[]"](2))},3),v(s,"$_reduce_22",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"BinaryOp").$new(i["$[]"](0),"*",i["$[]"](2))},3),v(s,"$_reduce_23",function(i,y,c){return i["$[]"](3).$new(i["$[]"](0),i["$[]"](2))},3),v(s,"$_reduce_25",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"DivideWithGameSystemDefault")},3),v(s,"$_reduce_26",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"DivideWithCeil")},3),v(s,"$_reduce_27",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"DivideWithCeil")},3),v(s,"$_reduce_28",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"DivideWithRound")},3),v(s,"$_reduce_29",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"DivideWithFloor")},3),v(s,"$_reduce_30",function(i,y,c){return i["$[]"](1)},3),v(s,"$_reduce_31",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"Negative").$new(i["$[]"](1))},3),v(s,"$_reduce_33",function(i,y,c){return i["$[]"](1)},3),v(s,"$_reduce_34",function(i,y,c){return k(k(m("Arithmetic"),"Node"),"Number").$new(i["$[]"](0))},3),v(s,"$_reduce_none",function(i,y,c){return i["$[]"](0)},3)},Opal.queue(function(r){var $,D,d,A,s,x,K,w,h,Y=r.top,l=[],_=r.nil,e=r.$$$,k=r.module,L=r.klass,te=r.const_set,o=r.send2,Q=r.find_super,O=r.def,v=r.truthy,z=r.hash2,I=r.rb_ge,F=r.rb_le,g=r.send,W=r.to_a,J=r.rb_minus,M=r.hash;return Y.$require("bcdice/dice_table/table"),Y.$require("bcdice/dice_table/d66_table"),Y.$require("bcdice/arithmetic"),Y.$require("bcdice/command/parser"),$=l,D=h=[k(l[0],"BCDice")].concat($),K=[k(h[0],"GameSystem")].concat(D),w=r.$r(K),d=K,s=[A=L(K[0],w("Base"),"Bakenokawa")].concat(d),x=r.$r(s),A.$$prototype.randomizer=_,te(s[0],"ID","Bakenokawa"),te(s[0],"NAME","\u30d0\u30b1\u30ce\u30ab\u30ef"),te(s[0],"SORT_KEY","\u306f\u3051\u306e\u304b\u308f"),te(s[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\n  xBKy@z\n    x\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u6570(\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f2)\n    y\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u9762\u6570\n    z\uff1a\u30b9\u30da\u30b7\u30e3\u30eb\u5024(@\u3054\u3068\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f12)\n  \uff08\u4f8b\uff09BK10\n  \u3000\u3000\u30004BK6\n  \u3000\u3000\u30002BK6@10\n\n\u30fb\u5404\u7a2e\u8868\n  \u4eca\u306e\u95a2\u4fc2\u8868 NRT\n  \u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868 KKT\n  \u8abf\u67fb\u6f14\u51fa\u8868\n    \u30ab\u30a4\u30d6\u30c4 RTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef RTB\n  \u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\n    \u30ab\u30a4\u30d6\u30c4 CTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef CTB\n  \u30d5\u30a1\u30f3\u30d6\u30eb\u8868 FT\n"),O(A,"$initialize",function S(V){return delete S.$$p,o(this,Q(this,"initialize",S,!1,!0),"initialize",[V],null),this.sort_barabara_dice=!0,this.d66_sort_type=e(x("D66SortType"),"ASC")},1),O(A,"$eval_game_system_specific_command",function(V){var ne;return v(ne=this.$check_action(V))?ne:this.$roll_tables(V,x("TABLES"))},1),O(A,"$check_action",function(V){var ee=_,p=_,E=_,t=_,N=_,n=_,j=_,ue=_,ce=_,ae=_,Z=_,T=_;return ee=e(x("Command"),"Parser").$new("BK",z(["round_type"],{round_type:e(x("RoundType"),"FLOOR")})).$enable_critical().$enable_prefix_number().$has_suffix_number().$parse(V),v(ee["$nil?"]())?_:(p=4,E=v(t=ee.$prefix_number())?t:2,N=ee.$suffix_number(),n=v(t=ee.$critical())?t:12,this.$debug("dice_faces",N),this.$debug("dice_cnt",E),this.$debug("special_target",n),j=this.randomizer.$roll_barabara(E,N).$sort(),ue=j.$join(","),ce=j.$sum(),ae=I(ce,n),Z=F(ce,2),T=I(g(j,"count",[],function(y){return null==y&&(y=_),I(y,p)},1),1),g(x("Result").$new(),"tap",[],function(y){var c=_;return null==y&&(y=_),c=["("+E+"B"+N+">="+p+") \uff1e ["+ue+"] \uff1e "+ce+" \uff1e "+(v(T)?"\u6210\u529f":"\u5931\u6557")+(v(ae)?"(\u30b9\u30da\u30b7\u30e3\u30eb)":"")+(v(Z)?"(\u30d5\u30a1\u30f3\u30d6\u30eb)":"")],g(y,"text=",W(c)),J(c.length,1),g(y,"critical=",W(c=[ae])),J(c.length,1),g(y,"fumble=",W(c=[Z])),J(c.length,1),g(y,"success=",W(c=[T])),J(c.length,1),c=[y["$success?"]()["$!"]()],g(y,"failure=",W(c)),c[J(c.length,1)]},1))},1),te(s[0],"TABLES",z(["NRT","KKT","RTK","RTB","CTK","CTB","FT"],{NRT:e(x("DiceTable"),"D66Table").$new("\u4eca\u306e\u95a2\u4fc2\u8868",e(x("D66SortType"),"ASC"),M(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u89aa\u621a\u3060\u3063\u305f",12,"\u4ef2\u306e\u3044\u3044\u8077\u5834\u306e\u540c\u50da",13,"\u4ed5\u4e8b\u306e\u3053\u3068\u3067\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u3053\u3068\u304c\u3042\u308b",14,"\u4eba\u9593\u793e\u4f1a\u306e\u3053\u3068\u3092\u6559\u3048\u5408\u3063\u3066\u3044\u308b",15,"\u65bd\u8a2d\u540c\u58eb\u304c\u3088\u304f\u30b3\u30e9\u30dc\u3059\u308b",16,"\u8857\u306e\u304a\u5e97\u306b\u4e8c\u4eba\u3067\u51fa\u304b\u3051\u308b\u4ef2",22,"\u3069\u3046\u306b\u3082\u30a6\u30de\u304c\u5408\u308f\u305a\u306b\u55a7\u5629\u3070\u304b\u308a\u3057\u3066\u3044\u308b",23,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u7fa8\u307e\u3057\u3044\u3068\u601d\u3063\u3066\u3044\u305f",24,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306b\u95a2\u3059\u308b\u82e6\u52b4\u3092\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b",25,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u306e\u751f\u6d3b\u570f\u304c\u8fd1\u3044",26,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u77e5\u308a\u5408\u3044\u3060\u3063\u305f",33,"\u3042\u3093\u306a\u4eba\u9593\u306b\u306a\u308a\u305f\u3044\u3068\u61a7\u308c\u3092\u899a\u3048\u305f",34,"\u53cb\u4eba\u3068\u3057\u3066\u8272\u3005\u306a\u60a9\u307f\u3092\u5171\u306b\u89e3\u6c7a\u3057\u3066\u304d\u305f",35,"\u653e\u3063\u3066\u304a\u3051\u306a\u3044\u3068\u3053\u308d\u304c\u3042\u308b\u3068\u601d\u3063\u3066\u3044\u308b",36,"\u3044\u3064\u3082\u8ff7\u60d1\u3092\u304b\u3051\u3066\u60aa\u3044\u3068\u601d\u3063\u3066\u3044\u308b",44,"\u6bce\u671d\u6328\u62f6\u3092\u3059\u308b\u3088\u3046\u306a\u3054\u8fd1\u6240\u3055\u3093\uff0f\u5bee\u306e\u90e8\u5c4b\u304c\u96a3",45,"\u4f55\u304b\u60a9\u3093\u3067\u3044\u305d\u3046\u306a\u9854\u304c\u6c17\u306b\u306a\u3063\u305f",46,"\u4f55\u304b\u3068\u4ed5\u4e8b\u95a2\u4fc2\u3067\u52a9\u3051\u3066\u3082\u3089\u3044\u3001\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b",55,"\u7acb\u3061\u632f\u308b\u821e\u3044\u304c\u4eba\u9593\u3089\u3057\u304f\u3066\u7fa8\u307e\u3057\u3044",56,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u3067\u306e\u632f\u308b\u821e\u3044\u3084\u4ed5\u4e8b\u3076\u308a\u306b\u4e00\u76ee\u7f6e\u3044\u3066\u3044\u308b",66,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u898b\u308b\u3068\u61d0\u304b\u3057\u3055\u3092\u899a\u3048\u308b")),KKT:e(x("DiceTable"),"D66Table").$new("\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868",e(x("D66SortType"),"ASC"),M(11,"\u4e00\u7dd2\u306e\u7262\u7344\u306b\u6355\u307e\u3063\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",12,"\u5730\u4e0b\u306e\u56fd\u3067\u4e00\u7dd2\u306b\u904a\u3093\u3067\u3044\u305f\u3053\u3068\u304c\u3042\u308b",13,"\u5730\u4e0a\u306b\u51fa\u3066\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u308b\u5922\u3092\u8a9e\u308a\u5408\u3063\u305f",14,"\u4e00\u7dd2\u306b\u4eba\u9593\u793e\u4f1a\u3092\u5b66\u3076\u8a13\u7df4\u3092\u53d7\u3051\u305f",15,"\u751f\u307e\u308c\u305f\u6642\u304b\u3089\u305a\u3063\u3068\u4e00\u7dd2\u3060\u3063\u305f",16,"\u6642\u3005\u55a7\u5629\u3092\u3057\u5408\u3046\u3088\u3046\u306a\u4ef2\u3060\u3063\u305f",22,"\u5e7c\u5c11\u671f\u306b\u80b2\u3066\u3066\u3082\u3089\u3063\u305f\u6069\u304c\u3042\u308b",23,"\u6614\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u6642\u306e\u501f\u308a\u304c\u3042\u308b",24,"\u601d\u3044\u51fa\u305b\u306a\u3044\u3050\u3089\u3044\u6614\u306b\u3001\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u2026\u2026\u6c17\u304c\u3059\u308b",25,"\u4e00\u7dd2\u306b\u5730\u4e0a\u3067\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u3088\u3046\u3068\u7d04\u675f\u3057\u305f",26,"\u4eba\u9593\u306b\u5bfe\u3059\u308b\u61a7\u308c\u3092\u8a9e\u3063\u305f",33,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u3001\u4e00\u65b9\u7684\u306b\u61a7\u308c\u3092\u62b1\u3044\u3066\u3044\u305f",34,"\u4eba\u9593\u306e\u307e\u306d\u4e8b\u3092\u4e00\u7dd2\u306b\u3057\u3066\u3044\u305f",35,"\u5c11\u3057\u306e\u9593\u3001\u4e00\u7dd2\u306b\u66ae\u3089\u3057\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",36,"\u4e00\u7dd2\u306b\u304a\u8336\u4f1a\u3092\u3057\u305f\u4ef2",44,"\u540c\u3058\u89aa\u306e\u3082\u3068\u3067\u80b2\u3063\u305f",45,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u306b\u8cb8\u3057\u304c\u3042\u3063\u3066\u3001\u307e\u3060\u8fd4\u3057\u3066\u3082\u3089\u3063\u3066\u306a\u3044",46,"\u4f55\u304b\u3068\u7af6\u3044\u5408\u3046\u3001\u30e9\u30a4\u30d0\u30eb\u540c\u58eb\u3060\u3063\u305f",55,"\u6226\u3044\u3092\u6311\u307f\u3001\u30dc\u30b3\u30dc\u30b3\u306b\u3055\u308c\u305f",56,"\u4e00\u7dd2\u306b\u9000\u5c48\u3092\u7d1b\u3089\u308f\u3059\u305f\u3081\u306b\u8272\u3005\u60aa\u3060\u304f\u307f\u3057\u3066\u3044\u305f",66,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u8cb0\u3063\u305f\u5f8c\u306b\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u8a9e\u3063\u3066\u3082\u3089\u3063\u305f\u899a\u3048\u304c\u3042\u308b")),RTK:e(x("DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30ab\u30a4\u30d6\u30c4","1D10",["\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u8857\u306b\u6f5c\u307f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u3066\u56de\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3044\u3001\u30c1\u30a7\u30a4\u30f3NPC\u3092\u5c3e\u884c\u3057\u3066\u597d\u307f\u3092\u8abf\u3079\u305f","\u4eba\u9593\u306b\u306f\u6f5c\u5165\u3067\u304d\u306a\u3044\u30eb\u30fc\u30c8\u3092\u4f7f\u3063\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u305f","\u4eba\u9593\u3068\u3057\u3066\u8abf\u3079\u3066\u307f\u3088\u3046\u3068\u3057\u305f\u304c\u3001\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u304c\u51fa\u3066\u56f0\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u3092\u8abf\u67fb\u306b\u6d3b\u304b\u3057\u3001\u8abf\u3079\u4e0a\u3052\u305f","\u9b54\u6cd5\u306e\u93e1\u306b\u554f\u3044\u304b\u3051\u3066\u3001\u7b54\u3048\u3092\u8cb0\u3063\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304b\u3089\u3001\u9b54\u6cd5\u306e\u529b\u3092\u4f7f\u3063\u3066\u904e\u53bb\u3092\u8fbf\u3063\u305f","\u4ef2\u9593\u306e\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u3068\u4e00\u7dd2\u306b\u3001\u8857\u306b\u7e70\u308a\u51fa\u3057\u3066\u30c9\u30bf\u30d0\u30bf\u5287\u3092\u7e70\u308a\u5e83\u3052\u306a\u304c\u3089\u60c5\u5831\u3092\u96c6\u3081\u305f","\u5c0f\u3055\u306a\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u306b\u3001\u6c17\u4ed8\u304b\u308c\u306a\u3044\u3088\u3046\u306b\u30c1\u30a7\u30a4\u30f3NPC\u3092\u8abf\u3079\u3066\u3082\u3089\u3063\u305f","\u9b54\u5973\u306e\u30ab\u30a4\u30d6\u30c4\u306b\u983c\u3093\u3067\u3001\u8abf\u67fb\u306b\u4fbf\u5229\u306a\u85ac\u3092\u4f5c\u3063\u3066\u3082\u3089\u3063\u305f,"]),RTB:e(x("DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef","1D10",["\u4eba\u9593\u306e\u53cb\u4eba\u3092\u983c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5642\u8a71\u3092\u805e\u304f","\u4eba\u9593\u306e\u8857\u306b\u884c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u3053\u3068\u3092\u805e\u3044\u3066\u56de\u308b","\u30c1\u30a7\u30a4\u30f3PC\u306b\u8a71\u3092\u805e\u3044\u3066\u3001\u305d\u306e\u5b50\u306e\u7279\u5fb4\u304b\u3089\u597d\u307f\u3092\u63a8\u5bdf\u3059\u308b","\u30c1\u30a7\u30a4\u30f3PC\u3068\u4e00\u7dd2\u306b\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u56f2\u3092\u805e\u304d\u8fbc\u307f\u3057\u3066\u56de\u3063\u305f","\u4eba\u9593\u3068\u3057\u3066\u3001\u60c5\u5831\u901a\u306e\u4eba\u9593\u304c\u96c6\u307e\u308b\u5834\u6240\u306b\u5411\u304b\u3044\u3001\u305d\u3053\u3067\u3044\u308d\u3044\u308d\u306a\u8a71\u3092\u805e\u3044\u3066\u56de\u3063\u305f","\u30cd\u30c3\u30c8\u3092\u5229\u7528\u3057\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304c\u306a\u3044\u304b\u8abf\u3079\u3066\u307f\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u304c\u3088\u304f\u884c\u304f\u5834\u6240\u3092\u63b4\u307f\u3001\u305d\u3053\u3067\u60c5\u5831\u53ce\u96c6\u3092\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u81ea\u5206\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u4f1a\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u304a\u5ba2\u69d8\u3068\u3057\u3066\u81ea\u5206\u306e\u62c5\u5f53\u65bd\u8a2d\u306b\u6765\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u5370\u8c61\u3092\u601d\u3044\u51fa\u3057\u305f"]),CTK:e(x("DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30ab\u30a4\u30d6\u30c4",e(x("D66SortType"),"ASC"),M(11,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u300d\u3092\u4f7f\u3063\u305f\u30c9\u6d3e\u624b\u306a\u30b3\u30e9\u30dc",12,"\u81ea\u5206\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",13,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",15,"\u81ea\u5206\u306e\u65bd\u8a2d\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",16,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u3068\u81ea\u5206\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",22,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u300d\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u30d1\u30d3\u30ea\u30aa\u30f3\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",24,"\u81ea\u5206\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",25,"\u76f8\u624b\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",26,"\u81ea\u5206\u304c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u512a\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u3092\u3001\u30b3\u30e9\u30dc\u76f8\u624b\u306b\u805e\u3044\u3066\u30d2\u30f3\u30c8\u306b\u3059\u308b",33,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u30b0\u30c3\u30ba\u3068\u3057\u3066\u58f2\u308a\u51fa\u3059\u30b3\u30e9\u30dc",34,"\u9b54\u6cd5\u306e\u529b\u3092\u6f14\u51fa\u306b\u4f7f\u3063\u305f\u3001\u30ad\u30e9\u30ad\u30e9\u306e\u30b3\u30e9\u30dc",35,"\u9b54\u6cd5\u306e\u9053\u5177\u3092\u4f7f\u3063\u305f\u3001\u304a\u5ba2\u69d8\u3092\u9a5a\u304b\u305b\u308b\u3088\u3046\u306a\u30b3\u30e9\u30dc",36,"\u7ae5\u8a71\u306e\u4e16\u754c\u3092\u304f\u3063\u3064\u3051\u3066\u3001\u3061\u3050\u306f\u3050\u306a\u611f\u3058\u3092\u697d\u3057\u3093\u3067\u3082\u3089\u3046",44,"\u30d1\u30d3\u30ea\u30aa\u30f3\u306e\u4ef2\u9593\u305f\u3061\u3092\u96c6\u3081\u305f\u30b9\u30c6\u30fc\u30b8\u3092\u958b\u50ac",45,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u3042\u3048\u3066\u6652\u3057\u3001\u305d\u308c\u3092\u300c\u6f14\u51fa\u300d\u306b\u7d44\u307f\u8fbc\u3080",46,"\u81ea\u5206\u305f\u3061\u306e\u529b\u3092\u300c\u6f14\u51fa\u300d\u3068\u3057\u3066\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",55,"\u9b54\u6cd5\u306e\u529b\u304c\u304b\u304b\u3063\u305f\u304a\u571f\u7523\u3092\u6301\u305f\u305b\u308b\u30b3\u30e9\u30dc",56,"\u4e0d\u601d\u8b70\u306a\u6f14\u51fa\u304c\u3044\u3063\u3071\u3044\u306e\u30b3\u30e9\u30dc",66,"\u81ea\u5206\u305f\u3061\u4ee5\u5916\u306e\u30ab\u30a4\u30d6\u30c4\u3082\u547c\u3093\u3060\u3001\u8cd1\u3084\u304b\u306a\u30b3\u30e9\u30dc")),CTB:e(x("DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef",e(x("D66SortType"),"ASC"),M(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u751f\u6d3b\u3059\u308b\u3046\u3061\u306b\u899a\u3048\u305f\u3001\u300c\u697d\u3057\u304b\u3063\u305f\u3053\u3068\u300d\u3092\u3084\u3063\u3066\u307f\u308b",12,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u3058\u3083\u307e\u3059\u308b\u30b3\u30e9\u30dc",13,"\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u30b3\u30e9\u30dc\u76f8\u624b\u3092\u547c\u3076",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u571f\u7523\u3092\u7528\u610f\u3059\u308b",15,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u4f7f\u3046",16,"\u81ea\u5206\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u8d08\u308b",22,"\u30d0\u30b1\u30ce\u30ab\u30ef\u751f\u6d3b\u306e\u4e2d\u3067\u6c17\u4ed8\u3044\u305f\u3001\u300c\u4eba\u9593\u306f\u9762\u767d\u3044\u300d\u3068\u601d\u3048\u305f\u3053\u3068\u3092\u3084\u308b",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u6280\u80fd\u3067\u5712\u5168\u4f53\u3092\u76db\u308a\u4e0a\u3052\u308b",24,"\u81ea\u5206\u306e\u6280\u80fd\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",25,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u6280\u80fd\u3092\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",26,"\u81ea\u5206\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",33,"\u81ea\u5206\u3060\u3051\u3067\u306f\u3067\u304d\u306a\u3044\u3053\u3068\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u3068\u76f8\u8ac7\u3059\u308b",34,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",35,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u5408\u308f\u305b\u305f\u3088\u3046\u306a\u65bd\u8a2d\u3092\u9650\u5b9a\u30aa\u30fc\u30d7\u30f3",36,"\u304a\u5ba2\u69d8\u306e\u7b11\u9854\u3092\u601d\u3044\u51fa\u3057\u3001\u305d\u3046\u306a\u308b\u3088\u3046\u306b\u4e8c\u4eba\u3067\u52aa\u529b\u3059\u308b",44,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u7e4b\u3052\u308b\u5712\u5185\u30d0\u30b9\u3092\u7528\u610f\u3059\u308b",45,"\u304a\u5ba2\u69d8\u306b\u697d\u3057\u3093\u3067\u3082\u3089\u3048\u308b\u6f14\u51fa\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",46,"\u304a\u5ba2\u69d8\u304c\u597d\u307f\u305d\u3046\u306a\u304a\u571f\u7523\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",55,"\u4eba\u9593\u306e\u53cb\u9054\u306b\u3001\u300c\u4f55\u304c\u697d\u3057\u3044\u306e\u304b\u300d\u3092\u6539\u3081\u3066\u805e\u304f",56,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u4f1d\u624b\u3092\u4f7f\u3063\u3066\u3001\u4eba\u9593\u306e\u53cb\u9054\u306b\u8a71\u3092\u805e\u304f",66,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u306e\u307f\u3093\u306a\u306b\u624b\u4f1d\u3063\u3066\u3082\u3089\u3046\u8c6a\u83ef\u306a\u30b3\u30e9\u30dc")),FT:e(x("DiceTable"),"Table").$new("\u30d5\u30a1\u30f3\u30d6\u30eb\u8868","1D6",["\u300c\u3042\u308c\uff1f\u201d\u81ea\u5206\u201d\u306f\u4e00\u4f53\u4f55\u8005\u3060\u3063\u305f\u304b\u306a\uff1f\u300d\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u30921\u3064\u9078\u3093\u3067\u5931\u3046","\u3075\u3068\u3057\u305f\u77ac\u9593\u306b\u3001\u697d\u3057\u3044\u611f\u60c5\u306b\u5bfe\u3057\u3066\u61d0\u7591\u7684\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u9078\u3093\u3067\u5931\u3046","\u305b\u3063\u304b\u304f\u7528\u610f\u3057\u305f\u9053\u5177\u3092\u58ca\u3057\u3066\u3057\u307e\u3046\u3002\u30bb\u30c3\u30c8\u3057\u3066\u3044\u305f\u30b5\u30d7\u30e9\u30a4\u30ba\u30ab\u30fc\u30c9\u30921\u679a\u9078\u3093\u3067\u7834\u68c4\u3059\u308b","\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u8a18\u61b6\u304c\u601d\u3044\u51fa\u3055\u308c\u308b\u3002\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3068\u305d\u308c\u306b\u4ed8\u968f\u3059\u308b\u30d1\u30fc\u30bd\u30ca\u30eb\u6280\u80fd\u30921\u3064\u305a\u3064\u7372\u5f97\u3059\u308b","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u81ea\u5206\u304c\u524d\u9762\u306b\u51fa\u3066\u3057\u307e\u3046\u3002\u6b21\u306b\u884c\u3046\u5224\u5b9a\u306e\u9593\u3001\u3059\u3079\u3066\u306e\u6280\u80fd\u3092\u4fee\u5f97\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u3068\u3057\u3066\u6271\u3046","\u5931\u6557\u3057\u3066\u3057\u307e\u3063\u305f\u304c\u3001\u305d\u308c\u304c\u304a\u5ba2\u69d8\u306b\u30a6\u30b1\u305f\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u7372\u5f97\u3059\u308b"])}).$freeze()),A.$register_prefix("\\d*BK",x("TABLES").$keys())})}}]);